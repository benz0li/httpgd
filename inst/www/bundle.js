(()=>{"use strict";var t={474:(t,e,i)=>{t.exports=i.p+"103f47f4ae284eb62b37.svg"}},e={};function i(o){var n=e[o];if(void 0!==n)return n.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,i),r.exports}i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),(()=>{var t;i.g.importScripts&&(t=i.g.location+"");var e=i.g.document;if(!t&&e&&(e.currentScript&&(t=e.currentScript.src),!t)){var o=e.getElementsByTagName("script");o.length&&(t=o[o.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=t})(),(()=>{var t="http://";function e(t){var e=new Headers;return t.token&&e.set("X-HTTPGD-TOKEN",this.token),e}function o(t,i){return o=this,n=void 0,s=function(){return function(t,e){var i,o,n,r,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,o&&(n=2&r[0]?o.return:r[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,r[1])).done)return n;switch(o=0,n&&(r=[2&r[0],n.value]),r[0]){case 0:case 1:n=r;break;case 4:return s.label++,{value:r[1],done:!1};case 5:s.label++,o=r[1],r=[0];continue;case 7:r=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==r[0]&&2!==r[0])){s=0;continue}if(3===r[0]&&(!n||r[1]>n[0]&&r[1]<n[3])){s.label=r[1];break}if(6===r[0]&&s.label<n[1]){s.label=n[1],n=r;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(r);break}n[2]&&s.ops.pop(),s.trys.pop();continue}r=e.call(t,s)}catch(t){r=[6,t],o=0}finally{i=n=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(o){switch(o.label){case 0:return[4,fetch(i,{headers:e(t)})];case 1:return[4,o.sent().json()];case 2:return[2,o.sent()]}}))},new((r=void 0)||(r=Promise))((function(t,e){function i(t){try{h(s.next(t))}catch(t){e(t)}}function a(t){try{h(s.throw(t))}catch(t){e(t)}}function h(e){var o;e.done?t(e.value):(o=e.value,o instanceof r?o:new r((function(t){t(o)}))).then(i,a)}h((s=s.apply(o,n||[])).next())}));var o,n,r,s}function n(t){var e=document.getElementById(t);if(!e)throw new ReferenceError(t+" is not defined");return e}function r(t,e,i){var o=document.createElement("a");o.href=t,e&&(o.download=e),i&&(o.target="_blank"),document.body.appendChild(o),o.click(),document.body.removeChild(o)}function s(t,e){var i=document.createElement("canvas");document.body.appendChild(i);var o=t.getBoundingClientRect();i.width=o.width,i.height=o.height;var n=i.getContext("2d");n&&(n.drawImage(t,0,0,i.width,i.height),e(i),document.body.removeChild(i))}var a=function(){function t(){this.fun=[]}return t.prototype.notify=function(t){for(var e=0;e<this.fun.length;++e)this.fun[e](t,this.oldState);this.oldState=t},t.prototype.subscribe=function(t){this.fun.push(t)},t}();function h(t,e,i){var o=t.value;if(!o.match(/^\d+$/))return!1;var n=parseInt(o);return n>=e&&n<=i}function c(t,e,i){return e?t.classList.add(i):t.classList.remove(i),e}var l=function(){function e(t,e){this.mode=0,this.pausePoll=!1,this.disconnected=!1,this.remoteStateChanged=new a,this.connectionChanged=new a,this.backend=t,this.allowWebsockets=e||!1}return e.prototype.open=function(){0==this.mode&&this.start(3)},e.prototype.close=function(){0!=this.mode&&this.start(0)},e.prototype.start=function(t){var i,o=this;if(this.mode!=t)switch(t){case 1:this.clearWebsocket(),this.clearPoll(),this.pollHandle=setInterval((function(){return o.poll()}),e.INTERVAL_POLL),this.mode=t;break;case 2:this.clearWebsocket(),this.clearPoll(),this.pollHandle=setInterval((function(){return o.poll()}),e.INTERVAL_POLL_SLOW),this.mode=t;break;case 3:if(!this.allowWebsockets){this.start(1);break}this.clearPoll(),this.clearWebsocket(),this.socket=(i=this.backend,new WebSocket(function(t){return"ws://"+t.host}(i))),this.socket.onmessage=function(t){return o.onWsMessage(t.data)},this.socket.onopen=function(){return o.onWsOpen()},this.socket.onclose=function(){return o.onWsClose()},this.socket.onerror=function(){return o.start(2)},this.mode=t,this.poll();break;case 0:this.clearWebsocket(),this.clearPoll(),this.mode=t}},e.prototype.clearPoll=function(){this.pollHandle&&clearInterval(this.pollHandle)},e.prototype.clearWebsocket=function(){this.socket&&(this.socket.onclose=function(){},this.socket.close())},e.prototype.poll=function(){var e,i=this;this.pausePoll||(e=this.backend,o(e,function(e){return t+e.host+"/state"}(e))).catch((function(t){throw t})).then((function(t){i.setDisconnected(!1),2===i.mode&&i.start(3),i.pausePoll||i.checkState(t)})).catch((function(){i.setDisconnected(!0),2!==i.mode&&i.start(2)}))},e.prototype.onWsMessage=function(t){if(t.startsWith("{")){var e=JSON.parse(t);this.checkState(e)}else console.log("Unknown WS message: "+t)},e.prototype.onWsClose=function(){this.setDisconnected(!0)},e.prototype.onWsOpen=function(){this.setDisconnected(!1)},e.prototype.setDisconnected=function(t){this.disconnected!=t&&(this.disconnected=t,this.disconnected?this.start(2):this.start(3),this.connectionChanged.notify(t))},e.prototype.checkState=function(t){this.lastState&&this.lastState.active===t.active&&this.lastState.hsize===t.hsize&&this.lastState.upid===t.upid||(this.lastState=t,this.remoteStateChanged.notify(t))},e.prototype.onRemoteChange=function(t){this.remoteStateChanged.subscribe(t)},e.prototype.onConnectionChange=function(t){this.connectionChanged.subscribe(t)},e.INTERVAL_POLL=500,e.INTERVAL_POLL_SLOW=15e3,e}(),d=function(){function e(t,e,i){var o=this;this.plotsChanged=new a,this.deviceActiveChanged=new a,this.data={renderers:null,plots:null},this.backend={host:t,token:e},this.connection=new l(this.backend,i),this.connection.onRemoteChange((function(t,e){return o.remoteStateChanged(t,e)}))}return e.prototype.connect=function(){return this.connection.open(),this.updateRenderers()},e.prototype.onConnectionChange=function(t){this.connection.onConnectionChange(t)},e.prototype.remoteStateChanged=function(t,e){e&&e.hsize===t.hsize&&e.upid===t.upid||this.updatePlots(),e&&e.active==t.active||this.deviceActiveChanged.notify(t.active)},e.prototype.updateRenderers=function(){var e,i=this;return(e=this.backend,o(e,function(e){return t+e.host+"/renderers"}(e))).then((function(t){i.data.renderers=t}))},e.prototype.updatePlots=function(){var e,i=this;(e=this.backend,o(e,function(e){return t+e.host+"/plots"}(e))).then((function(t){i.data.plots=t,i.plotsChanged.notify(t)}))},e.prototype.getPlots=function(){return this.data.plots.plots},e.prototype.getRenderers=function(){return this.data.renderers.renderers},e.prototype.getPlotURL=function(e){return function(e,i,o,n){var r=new URL(t+e.host+"/plot");return i.id&&r.searchParams.append("id",i.id),i.renderer&&r.searchParams.append("renderer",i.renderer),i.width&&r.searchParams.append("width",Math.round(i.width).toString()),i.height&&r.searchParams.append("height",Math.round(i.height).toString()),i.zoom&&r.searchParams.append("zoom",i.zoom.toString()),i.download&&r.searchParams.append("download",i.download),o&&e.token&&r.searchParams.append("token",e.token),n&&r.searchParams.append("c",n),r.href}(this.backend,e,!0,this.data.plots.state.upid.toString())},e.prototype.onPlotsChanged=function(t){this.plotsChanged.subscribe(t)},e.prototype.onDeviceActiveChanged=function(t){this.deviceActiveChanged.subscribe(t)},e.prototype.removePlot=function(e){!function(e,i){o(e,function(e,i){var o=new URL(t+e.host+"/remove");return o.searchParams.append("id",i.id),o.href}(e,i))}(this.backend,e)},e.prototype.clearPlots=function(){var e;o(e=this.backend,function(e){return t+e.host+"/clear"}(e))},e}(),u=i(474),p=function(){function t(t){var e=this;this.viewer=t,this.elemModal=n("exp-modal"),this.imgPreview=n("exp-image"),this.inputWidth=n("ie-width"),this.inputHeight=n("ie-height"),this.inputZoom=n("ie-scale"),this.btnOpen=n("ie-btn-open"),this.btnDownload=n("ie-btn-download"),this.selectFormat=n("ie-format"),this.btnClose=n("exp-modal-close"),this.btnClose.onclick=function(){return e.hide()},window.onmousedown=function(t){t.target==e.elemModal&&e.hide()},this.inputWidth.addEventListener("input",(function(){return e.update()})),this.inputHeight.addEventListener("input",(function(){return e.update()})),this.inputZoom.addEventListener("input",(function(){return e.update()})),this.btnDownload.onclick=function(){return e.clickDownload()},this.btnOpen.onclick=function(){return e.clickOpen()}}return t.prototype.initRenderers=function(){var t=this;this.renderers=this.viewer.httpgd.getRenderers(),this.renderers.sort((function(t,e){return function(t,e){return t<e?-1:t>e?1:0}(t.name,e.name)})).forEach((function(e){var i=document.createElement("option");i.value=e.id,i.text=e.name+" (*"+e.ext+")",t.selectFormat.add(i)})),this.selectFormat.value="svg"},t.prototype.hide=function(){this.elemModal.style.display="none"},t.prototype.isVisible=function(){return this.elemModal.style.display&&"none"!==this.elemModal.style.display},t.prototype.validWidth=function(){return h(this.inputWidth,t.MIN_PREVIEW_SIZE,t.MAX_PREVIEW_SIZE)},t.prototype.getWidth=function(){return Math.min(parseInt(this.inputWidth.value),t.MAX_PREVIEW_SIZE)},t.prototype.validHeight=function(){return h(this.inputHeight,t.MIN_PREVIEW_SIZE,t.MAX_PREVIEW_SIZE)},t.prototype.getHeight=function(){return Math.min(parseInt(this.inputHeight.value),t.MAX_PREVIEW_SIZE)},t.prototype.validZoom=function(){return h(this.inputZoom,t.MIN_PREVIEW_ZOOM,t.MAX_PREVIEW_ZOOM)},t.prototype.getZoom=function(){return Math.max(parseInt(this.inputZoom.value)/100,t.MIN_PREVIEW_ZOOM)},t.prototype.getRenderer=function(){var t=this;return this.viewer.httpgd.getRenderers().find((function(e){return e.id==t.selectFormat.value}))},t.prototype.clickDownload=function(){var t=this.viewer.plotView.getCurrentPlotId();if(t){var e=this.getRenderer();r(this.viewer.httpgd.getPlotURL({width:this.getWidth(),height:this.getHeight(),zoom:this.getZoom(),id:t,renderer:e.id,download:"plot_"+t+e.ext}))}},t.prototype.clickOpen=function(){var t=this.viewer.plotView.getCurrentPlotId();if(t){var e=this.getRenderer();r(this.viewer.httpgd.getPlotURL({width:this.getWidth(),height:this.getHeight(),zoom:this.getZoom(),id:t,renderer:e.id}),null,!0)}},t.prototype.update=function(){if(!(c(this.inputWidth,!this.validWidth(),"invalid-input")||c(this.inputHeight,!this.validHeight(),"invalid-input")||c(this.inputZoom,!this.validZoom(),"invalid-input"))){var t=this.viewer.plotView.getCurrentPlotId();if(t){var e=this.viewer.httpgd.getPlotURL({width:this.getWidth(),height:this.getHeight(),zoom:this.getZoom(),id:t});this.imgPreview.src=e}else this.imgPreview.src=u}},t.prototype.show=function(){this.elemModal.style.display="block",this.update()},t.MIN_PREVIEW_SIZE=1,t.MAX_PREVIEW_SIZE=1e4,t.MIN_PREVIEW_ZOOM=.01,t.MAX_PREVIEW_ZOOM=1e4,t}(),f=function(){function t(t){this.viewer=t,this.overlayContainer=n("overlay"),this.overlayText=n("overlay-text")}return t.prototype.show=function(t){this.overlayText.innerText=t,this.overlayContainer.style.display="inline"},t.prototype.hide=function(){this.overlayContainer.style.display="none"},t.TEXT_CONNECTION_LOST="Connection lost.",t.TEXT_DEVICE_INACTIVE="Device inactive.",t}(),g=function(){function t(e){var i=this;this.viewer=e,this.dropdown=n("tb-more").parentElement,this.dropdown.onmouseenter=function(){return i.showDropdown()},this.dropdown.onmouseleave=function(){return i.hideDropdown()},this.zoomLabel=n("tb-zlvl"),this.pageLabel=n("tb-pnum"),this.elemToolbar=n("toolbar"),this.elemContainer=n("container"),this.timoutFade=setTimeout((function(){return i.fadeOut()}),t.DELAY_FADE_OUT),this.elemContainer.onmousemove=function(){i.elemToolbar.classList.remove("fade-out"),clearTimeout(i.timoutFade),i.timoutFade=setTimeout((function(){return i.fadeOut()}),t.DELAY_FADE_OUT)},this.elemContainer.onmouseleave=function(){return i.fadeOut()}}return t.prototype.registerActions=function(t){for(var e=this,i={},o=function(t){if(n(t.id).onclick=function(){t.f(),e.hideDropdown()},t.keys)for(var o=0,r=t.keys;o<r.length;o++){var s=r[o];i[s]=t}},r=0,s=t;r<s.length;r++)o(s[r]);window.addEventListener("keydown",(function(t){if(!e.viewer.exportView.isVisible()){var o=i[t.keyCode];return!o||o.altKey&&!t.altKey?void 0:(o.f(),void t.preventDefault())}}))},t.prototype.showDropdown=function(){this.dropdown.classList.add(t.CSS_SHOW_DROPDOWN)},t.prototype.hideDropdown=function(){this.dropdown.classList.remove(t.CSS_SHOW_DROPDOWN)},t.prototype.setZoomLabelText=function(t){this.zoomLabel.childNodes[0].nodeValue=t},t.prototype.setPageLabelText=function(t){this.pageLabel.childNodes[0].nodeValue=t},t.prototype.fadeOut=function(){this.elemToolbar.classList.add("fade-out")},t.DELAY_FADE_OUT=4e3,t.CSS_SHOW_DROPDOWN="drop-open",t}(),v=function(){function t(t){this.viewer=t,this.elemPlotView=n("plotview"),this.elemSidebar=n("sidebar")}return t.prototype.update=function(t){for(var e=this,i=0;i<this.elemSidebar.children.length;)i>=t.plots.length||this.elemSidebar.children[i].getAttribute("data-pid")!==t.plots[i].id?this.elemSidebar.removeChild(this.elemSidebar.children[i]):i++;for(var o=function(){var o=t.plots[i],r=document.createElement("div");r.setAttribute("data-pid",o.id);var s=document.createElement("a");s.innerHTML="&#10006;",s.onclick=function(){e.viewer.httpgd.removePlot({id:o.id}),e.viewer.httpgd.updatePlots()};var a=document.createElement("img");r.classList.add("history-item"),r.classList.add("history-item"),a.setAttribute("src",n.viewer.httpgd.getPlotURL({id:o.id})),r.onclick=function(){return e.viewer.plotView.setPage(o.id)},r.appendChild(a),r.appendChild(s),n.elemSidebar.appendChild(r)},n=this;i<t.plots.length;++i)o()},t.prototype.setSelected=function(t){for(var e,i=0;i<this.elemSidebar.children.length;++i){var o=this.elemSidebar.children[i];o.getAttribute("data-pid")===t?(o.classList.add("history-selected"),e=o):o.classList.remove("history-selected")}if(e){var n=e.getBoundingClientRect(),r=n.y+this.elemSidebar.scrollTop,s=n.height,a=this.elemSidebar.getBoundingClientRect().height;console.log({y_card:r,h_sidebar:a});var h=r-(a/2-s/2);console.log(h),this.elemSidebar.scrollTo({top:h,behavior:"smooth"})}},t.prototype.toggle=function(){var t=this;this.elemSidebar.classList.toggle("nohist"),this.elemPlotView.classList.toggle("nohist"),setTimeout((function(){return t.viewer.plotView.update()}),300)},t.prototype.hideWithoutAnimation=function(){var t=this;this.elemSidebar.classList.add("notransition","nohist"),this.elemPlotView.classList.add("notransition","nohist"),this.viewer.plotView.update(),setTimeout((function(){t.elemSidebar.classList.remove("notransition"),t.elemPlotView.classList.remove("notransition")}),300)},t}(),m=function(){function t(e){var i=this;this.resizeBlocked=!1,this.scale=t.SCALE_DEFAULT,this.page=1,this.viewer=e,this.toolbar=new g(e),this.sidebar=new v(e),this.image=n("drawing"),this.image.src=u,window.addEventListener("resize",(function(){return i.resize()}))}return t.prototype.updatePlots=function(t){this.plots=t,this.updatePageLabel(),this.sidebar.update(t),this.page=this.plots.plots.length},t.prototype.getCurrentPlotId=function(){if(!this.plots)return null;for(;this.page<1;)this.page+=this.plots.plots.length;for(;this.page>this.plots.plots.length;)this.page-=this.plots.plots.length;return this.plots.plots[this.page-1].id},t.prototype.update=function(){if(this.plots){var t=this.getCurrentPlotId(),e=this.image.getBoundingClientRect(),i=this.viewer.httpgd.getPlotURL({id:t,width:e.width,height:e.height,zoom:this.scale});this.image.src=i,this.updatePageLabel(),this.sidebar.setSelected(t)}else this.image.src=u},t.prototype.resize=function(){var e=this;this.resizeBlocked||(this.resizeBlocked=!0,setTimeout((function(){e.update(),e.resizeBlocked=!1}),t.COOLDOWN_RESIZE))},t.prototype.zoomOut=function(){this.scale-t.SCALE_STEP>t.SCALE_MIN&&(this.scale-=t.SCALE_STEP),this.updateZoomLabel(),this.resize()},t.prototype.zoomIn=function(){this.scale+=t.SCALE_STEP,this.updateZoomLabel(),this.resize()},t.prototype.zoomReset=function(){this.scale=t.SCALE_DEFAULT,this.updateZoomLabel(),this.resize()},t.prototype.getZoomString=function(){return Math.ceil(this.scale/t.SCALE_DEFAULT*100)+"%"},t.prototype.updateZoomLabel=function(){this.toolbar.setZoomLabelText(this.getZoomString())},t.prototype.nextPage=function(){this.page++,this.update()},t.prototype.prevPage=function(){this.page--,this.update()},t.prototype.newestPage=function(){this.plots&&this.page!=this.plots.plots.length&&(this.page=this.plots.plots.length,this.update())},t.prototype.setPage=function(t){if(this.plots)for(var e=0;e<this.plots.plots.length;++e)if(this.plots.plots[e].id===t)return this.page=e+1,void this.update()},t.prototype.getPageString=function(){return this.plots?this.page+"/"+this.plots.plots.length:"0/0"},t.prototype.updatePageLabel=function(){this.toolbar.setPageLabelText(this.getPageString())},t.prototype.downloadSVG=function(){var t;t=this.image,fetch(t.src).then((function(t){return t.blob()})).then((function(t){r(URL.createObjectURL(t),"plot.svg")}))},t.prototype.downloadPNG=function(){var t;t=this.image,s(t,(function(t){r(t.toDataURL("image/png").replace("image/png","image/octet-stream"),"plot.png")}))},t.prototype.copyPNG=function(){var t;t=this.image,navigator.clipboard&&s(t,(function(t){t.toBlob((function(t){var e,i;t&&(null===(i=(e=navigator.clipboard).write)||void 0===i||i.call(e,[new ClipboardItem({"image/png":t})]))}))}))},t.prototype.removePlot=function(){this.viewer.httpgd.removePlot({id:this.getCurrentPlotId()})},t.prototype.clearPlots=function(){this.viewer.httpgd.clearPlots()},t.COOLDOWN_RESIZE=200,t.SCALE_DEFAULT=1.25,t.SCALE_STEP=t.SCALE_DEFAULT/12,t.SCALE_MIN=.5,t}(),w=function(){function t(t,e,i){var o=this;this.httpgd=new d(t,e,i),this.httpgd.onPlotsChanged((function(t){return o.plotsChanged(t)})),this.httpgd.onConnectionChange((function(t){return o.connectionChanged(t)})),this.httpgd.onDeviceActiveChanged((function(t){return o.deviceActiveChanged(t)}))}return t.prototype.plotsChanged=function(t){var e,i;null===(e=this.plotView)||void 0===e||e.updatePlots(t),null===(i=this.plotView)||void 0===i||i.update()},t.prototype.connectionChanged=function(t){var e,i;t?null===(e=this.overlayView)||void 0===e||e.show(f.TEXT_CONNECTION_LOST):null===(i=this.overlayView)||void 0===i||i.hide()},t.prototype.deviceActiveChanged=function(e){var i,o=this;this.deviceInactiveDelayed&&clearTimeout(this.deviceInactiveDelayed),e?null===(i=this.overlayView)||void 0===i||i.hide():this.deviceInactiveDelayed=setTimeout((function(){var t;return null===(t=o.overlayView)||void 0===t?void 0:t.show(f.TEXT_DEVICE_INACTIVE)}),t.COOLDOWN_DEVICE_INACTIVE)},t.prototype.init=function(){var t=this;this.plotView=new m(this),this.overlayView=new f(this),this.exportView=new p(this),this.httpgd.connect().then((function(){t.exportView.initRenderers()})),this.plotView.toolbar.registerActions([{keys:[37,40],f:function(){return t.plotView.prevPage()},id:"tb-left"},{keys:[39,38],f:function(){return t.plotView.nextPage()},id:"tb-right"},{keys:[78],f:function(){return t.plotView.newestPage()},id:"tb-pnum"},{keys:[187],f:function(){return t.plotView.zoomIn()},id:"tb-plus"},{keys:[189],f:function(){return t.plotView.zoomOut()},id:"tb-minus"},{keys:[48],f:function(){return t.plotView.zoomReset()},id:"tb-zlvl"},{id:"tb-clear",altKey:!0,keys:[68],f:function(){return t.plotView.clearPlots()}},{id:"tb-remove",keys:[46,68],f:function(){return t.plotView.removePlot()}},{id:"tb-save-svg",keys:[83],f:function(){return t.plotView.downloadSVG()}},{id:"tb-save-png",keys:[80],f:function(){return t.plotView.downloadPNG()}},{id:"tb-copy-png",keys:[67],f:function(){return t.plotView.copyPNG()}},{id:"tb-history",keys:[72],f:function(){return t.plotView.sidebar.toggle()}},{id:"tb-export",keys:[69],f:function(){return t.exportView.show()}}])},t.COOLDOWN_DEVICE_INACTIVE=1e3,t}(),y=new URL(window.location.href).searchParams;const b={viewer:new w(y.get("host")||window.location.host,y.get("token")||void 0,!y.has("ws")||"0"!=y.get("ws"))};window.onload=function(){b.viewer.init()}})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9odHRwZ2QtY2xpZW50L3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvd2VicGFjay9ydW50aW1lL2dsb2JhbCIsIndlYnBhY2s6Ly9odHRwZ2QtY2xpZW50L3dlYnBhY2svcnVudGltZS9wdWJsaWNQYXRoIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvYXBpLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvdXRpbHMudHMiLCJ3ZWJwYWNrOi8vaHR0cGdkLWNsaWVudC8uL3NyYy9jb25uZWN0aW9uLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvaHR0cGdkLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvcmVzb3VyY2VzLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvdmlld3MvZXhwb3J0Vmlldy50cyIsIndlYnBhY2s6Ly9odHRwZ2QtY2xpZW50Ly4vc3JjL3ZpZXdzL292ZXJsYXlWaWV3LnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvdmlld3MvdG9vbGJhclZpZXcudHMiLCJ3ZWJwYWNrOi8vaHR0cGdkLWNsaWVudC8uL3NyYy92aWV3cy9zaWRlYmFyVmlldy50cyIsIndlYnBhY2s6Ly9odHRwZ2QtY2xpZW50Ly4vc3JjL3ZpZXdzL3Bsb3RWaWV3LnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvdmlld2VyLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvYXBwLnRzIiwid2VicGFjazovL2h0dHBnZC1jbGllbnQvLi9zcmMvaW5kZXgudHMiXSwibmFtZXMiOlsiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJnIiwiZ2xvYmFsVGhpcyIsInRoaXMiLCJGdW5jdGlvbiIsImUiLCJ3aW5kb3ciLCJzY3JpcHRVcmwiLCJpbXBvcnRTY3JpcHRzIiwibG9jYXRpb24iLCJkb2N1bWVudCIsImN1cnJlbnRTY3JpcHQiLCJzcmMiLCJzY3JpcHRzIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJsZW5ndGgiLCJFcnJvciIsInJlcGxhY2UiLCJwIiwiVVJMX0hUVFAiLCJtYWtlX2hlYWRlcnMiLCJiIiwiaGVhZGVycyIsIkhlYWRlcnMiLCJ0b2tlbiIsInNldCIsImZldGNoX3VybCIsInVybCIsInRoaXNBcmciLCJfYXJndW1lbnRzIiwiZ2VuZXJhdG9yIiwiYm9keSIsImYiLCJ5IiwidCIsIl8iLCJsYWJlbCIsInNlbnQiLCJ0cnlzIiwib3BzIiwibmV4dCIsInZlcmIiLCJTeW1ib2wiLCJpdGVyYXRvciIsIm4iLCJ2Iiwib3AiLCJUeXBlRXJyb3IiLCJjYWxsIiwiZG9uZSIsInZhbHVlIiwicG9wIiwicHVzaCIsInN0ZXAiLCJfX2dlbmVyYXRvciIsIl9hIiwiZmV0Y2giLCJqc29uIiwiUCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZnVsZmlsbGVkIiwicmVqZWN0ZWQiLCJyZXN1bHQiLCJ0aGVuIiwiYXBwbHkiLCJnZXRCeUlkIiwiaWQiLCJlbCIsImdldEVsZW1lbnRCeUlkIiwiUmVmZXJlbmNlRXJyb3IiLCJkb3dubG9hZFVSTCIsImZpbGVuYW1lIiwidGFiIiwiZGwiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwidGFyZ2V0IiwiYXBwZW5kQ2hpbGQiLCJjbGljayIsInJlbW92ZUNoaWxkIiwiaW1hZ2VUZW1wQ2FudmFzIiwiaW1hZ2UiLCJmbiIsImNhbnZhcyIsInJlY3QiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aWR0aCIsImhlaWdodCIsImN0eCIsImdldENvbnRleHQiLCJkcmF3SW1hZ2UiLCJTdGF0ZUNoYW5nZUxpc3RlbmVyIiwiZnVuIiwicHJvdG90eXBlIiwibm90aWZ5IiwibmV3U3RhdGUiLCJpIiwib2xkU3RhdGUiLCJzdWJzY3JpYmUiLCJ2YWxpZE51bWJlcklucHV0IiwiaW5wdXQiLCJtaW4iLCJtYXgiLCJzIiwibWF0Y2giLCJwYXJzZUludCIsInNldENzc0NsYXNzIiwiZWxlbWVudCIsImNzc0NsYXNzIiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiSHR0cGdkQ29ubmVjdGlvbiIsImJhY2tlbmQiLCJhbGxvd1dlYnNvY2tldHMiLCJtb2RlIiwicGF1c2VQb2xsIiwiZGlzY29ubmVjdGVkIiwicmVtb3RlU3RhdGVDaGFuZ2VkIiwiY29ubmVjdGlvbkNoYW5nZWQiLCJvcGVuIiwic3RhcnQiLCJjbG9zZSIsInRhcmdldE1vZGUiLCJfdGhpcyIsImNsZWFyV2Vic29ja2V0IiwiY2xlYXJQb2xsIiwicG9sbEhhbmRsZSIsInNldEludGVydmFsIiwicG9sbCIsIklOVEVSVkFMX1BPTEwiLCJJTlRFUlZBTF9QT0xMX1NMT1ciLCJzb2NrZXQiLCJXZWJTb2NrZXQiLCJob3N0IiwidXJsX3dlYnNvY2tldCIsIm9ubWVzc2FnZSIsImV2Iiwib25Xc01lc3NhZ2UiLCJkYXRhIiwib25vcGVuIiwib25Xc09wZW4iLCJvbmNsb3NlIiwib25Xc0Nsb3NlIiwib25lcnJvciIsImNsZWFySW50ZXJ2YWwiLCJ1cmxfc3RhdGUiLCJjYXRjaCIsInJlYXNvbiIsInJlbW90ZVN0YXRlIiwic2V0RGlzY29ubmVjdGVkIiwiY2hlY2tTdGF0ZSIsIm1lc3NhZ2UiLCJzdGFydHNXaXRoIiwiSlNPTiIsInBhcnNlIiwiY29uc29sZSIsImxvZyIsImxhc3RTdGF0ZSIsImFjdGl2ZSIsImhzaXplIiwidXBpZCIsIm9uUmVtb3RlQ2hhbmdlIiwib25Db25uZWN0aW9uQ2hhbmdlIiwiSHR0cGdkIiwicGxvdHNDaGFuZ2VkIiwiZGV2aWNlQWN0aXZlQ2hhbmdlZCIsInJlbmRlcmVycyIsInBsb3RzIiwiY29ubmVjdGlvbiIsImNvbm5lY3QiLCJ1cGRhdGVSZW5kZXJlcnMiLCJ1cGRhdGVQbG90cyIsInVybF9yZW5kZXJlcnMiLCJyZXMiLCJ1cmxfcGxvdHMiLCJnZXRQbG90cyIsImdldFJlbmRlcmVycyIsImdldFBsb3RVUkwiLCJyIiwiaW5jbHVkZVRva2VuIiwiY2FjaGVzdHIiLCJVUkwiLCJzZWFyY2hQYXJhbXMiLCJhcHBlbmQiLCJyZW5kZXJlciIsIk1hdGgiLCJyb3VuZCIsInRvU3RyaW5nIiwiem9vbSIsInVybF9wbG90Iiwic3RhdGUiLCJvblBsb3RzQ2hhbmdlZCIsIm9uRGV2aWNlQWN0aXZlQ2hhbmdlZCIsInJlbW92ZVBsb3QiLCJ1cmxfcmVtb3ZlIiwiZmV0Y2hfcmVtb3ZlIiwiY2xlYXJQbG90cyIsInVybF9jbGVhciIsIkFTU0VUX1BMT1RfTk9ORSIsIkV4cG9ydFZpZXciLCJ2aWV3ZXIiLCJlbGVtTW9kYWwiLCJpbWdQcmV2aWV3IiwiaW5wdXRXaWR0aCIsImlucHV0SGVpZ2h0IiwiaW5wdXRab29tIiwiYnRuT3BlbiIsImJ0bkRvd25sb2FkIiwic2VsZWN0Rm9ybWF0IiwiYnRuQ2xvc2UiLCJvbmNsaWNrIiwiaGlkZSIsIm9ubW91c2Vkb3duIiwiZXZlbnQiLCJhZGRFdmVudExpc3RlbmVyIiwidXBkYXRlIiwiY2xpY2tEb3dubG9hZCIsImNsaWNrT3BlbiIsImluaXRSZW5kZXJlcnMiLCJodHRwZ2QiLCJzb3J0IiwiYSIsInN0cmNtcCIsIm5hbWUiLCJmb3JFYWNoIiwibyIsInRleHQiLCJleHQiLCJzdHlsZSIsImRpc3BsYXkiLCJpc1Zpc2libGUiLCJ2YWxpZFdpZHRoIiwiTUlOX1BSRVZJRVdfU0laRSIsIk1BWF9QUkVWSUVXX1NJWkUiLCJnZXRXaWR0aCIsInZhbGlkSGVpZ2h0IiwiZ2V0SGVpZ2h0IiwidmFsaWRab29tIiwiTUlOX1BSRVZJRVdfWk9PTSIsIk1BWF9QUkVWSUVXX1pPT00iLCJnZXRab29tIiwiZ2V0UmVuZGVyZXIiLCJmaW5kIiwicGxvdElkIiwicGxvdFZpZXciLCJnZXRDdXJyZW50UGxvdElkIiwic2hvdyIsIk92ZXJsYXlWaWV3Iiwib3ZlcmxheUNvbnRhaW5lciIsIm92ZXJsYXlUZXh0IiwiaW5uZXJUZXh0IiwiVEVYVF9DT05ORUNUSU9OX0xPU1QiLCJURVhUX0RFVklDRV9JTkFDVElWRSIsIlRvb2xiYXJWaWV3IiwiZHJvcGRvd24iLCJwYXJlbnRFbGVtZW50Iiwib25tb3VzZWVudGVyIiwic2hvd0Ryb3Bkb3duIiwib25tb3VzZWxlYXZlIiwiaGlkZURyb3Bkb3duIiwiem9vbUxhYmVsIiwicGFnZUxhYmVsIiwiZWxlbVRvb2xiYXIiLCJlbGVtQ29udGFpbmVyIiwidGltb3V0RmFkZSIsInNldFRpbWVvdXQiLCJmYWRlT3V0IiwiREVMQVlfRkFERV9PVVQiLCJvbm1vdXNlbW92ZSIsImNsZWFyVGltZW91dCIsInJlZ2lzdGVyQWN0aW9ucyIsImFjdGlvbnMiLCJzaG9ydGN1dHMiLCJfbG9vcF8xIiwia2V5cyIsIl9iIiwiayIsIl9pIiwiYWN0aW9uc18xIiwiZXhwb3J0VmlldyIsImtleUNvZGUiLCJhbHRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsIkNTU19TSE9XX0RST1BET1dOIiwic2V0Wm9vbUxhYmVsVGV4dCIsImNoaWxkTm9kZXMiLCJub2RlVmFsdWUiLCJzZXRQYWdlTGFiZWxUZXh0IiwiU2lkZWJhclZpZXciLCJlbGVtUGxvdFZpZXciLCJlbGVtU2lkZWJhciIsImlkeCIsImNoaWxkcmVuIiwiZ2V0QXR0cmlidXRlIiwiZWxlbV9jYXJkIiwic2V0QXR0cmlidXRlIiwiZWxlbV94IiwiaW5uZXJIVE1MIiwiZWxlbV9pbWciLCJ0aGlzXzEiLCJzZXRQYWdlIiwic2V0U2VsZWN0ZWQiLCJhY3RpdmVDYXJkIiwiY2FyZCIsImJiX2NhcmQiLCJ5X2NhcmQiLCJzY3JvbGxUb3AiLCJoX2NhcmQiLCJoX3NpZGViYXIiLCJoIiwic2Nyb2xsVG8iLCJ0b3AiLCJiZWhhdmlvciIsInRvZ2dsZSIsImhpZGVXaXRob3V0QW5pbWF0aW9uIiwiUGxvdFZpZXciLCJyZXNpemVCbG9ja2VkIiwic2NhbGUiLCJTQ0FMRV9ERUZBVUxUIiwicGFnZSIsInRvb2xiYXIiLCJzaWRlYmFyIiwicmVzaXplIiwidXBkYXRlUGFnZUxhYmVsIiwiQ09PTERPV05fUkVTSVpFIiwiem9vbU91dCIsIlNDQUxFX1NURVAiLCJTQ0FMRV9NSU4iLCJ1cGRhdGVab29tTGFiZWwiLCJ6b29tSW4iLCJ6b29tUmVzZXQiLCJnZXRab29tU3RyaW5nIiwiY2VpbCIsIm5leHRQYWdlIiwicHJldlBhZ2UiLCJuZXdlc3RQYWdlIiwiZ2V0UGFnZVN0cmluZyIsImRvd25sb2FkU1ZHIiwicmVzcG9uc2UiLCJibG9iIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG93bmxvYWRQTkciLCJ0b0RhdGFVUkwiLCJjb3B5UE5HIiwibmF2aWdhdG9yIiwiY2xpcGJvYXJkIiwidG9CbG9iIiwid3JpdGUiLCJDbGlwYm9hcmRJdGVtIiwiSHR0cGdkVmlld2VyIiwib3ZlcmxheVZpZXciLCJkZXZpY2VJbmFjdGl2ZURlbGF5ZWQiLCJDT09MRE9XTl9ERVZJQ0VfSU5BQ1RJVkUiLCJpbml0Iiwic3BhcmFtcyIsImdldCIsImhhcyIsIm9ubG9hZCJdLCJtYXBwaW5ncyI6Im1GQUNJQSxFQUEyQixHQUcvQixTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxJQU9WLE9BSEFFLEVBQW9CTCxHQUFVSSxFQUFRQSxFQUFPRCxRQUFTSixHQUcvQ0ssRUFBT0QsUUNyQmZKLEVBQW9CTyxFQUFJLFdBQ3ZCLEdBQTBCLGlCQUFmQyxXQUF5QixPQUFPQSxXQUMzQyxJQUNDLE9BQU9DLE1BQVEsSUFBSUMsU0FBUyxjQUFiLEdBQ2QsTUFBT0MsR0FDUixHQUFzQixpQkFBWEMsT0FBcUIsT0FBT0EsUUFMakIsRyxNQ0F4QixJQUFJQyxFQUNBYixFQUFvQk8sRUFBRU8sZ0JBQWVELEVBQVliLEVBQW9CTyxFQUFFUSxTQUFXLElBQ3RGLElBQUlDLEVBQVdoQixF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QyxJQUNQdFAsRUFBRyxXQUFjLE9BQU8rRixFQUFNNEosV0FBV2pDLFlBNkJyRHVHLEVBQWFHLHlCQUEyQixJQUNqQ0gsRUExSXNCLEdDSDdCSyxFQUFVLElBQUk3SyxJQUFJbkwsT0FBT0csU0FBU29FLE1BQU02RyxhQUM1QyxTQUNJa0IsT0FBUSxJQUFJcUosRUFBYUssRUFBUUMsSUFBSSxTQUFXalcsT0FBT0csU0FBU2dJLEtBQU02TixFQUFRQyxJQUFJLGVBQVkxVyxHQUFXeVcsRUFBUUUsSUFBSSxPQUE4QixLQUFyQkYsRUFBUUMsSUFBSSxRQ3dCOUlqVyxPQUFPbVcsT0FBUyxXQUNaLGtCIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0Ly8gbm8gbW9kdWxlLmlkIG5lZWRlZFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCJfX3dlYnBhY2tfcmVxdWlyZV9fLmcgPSAoZnVuY3Rpb24oKSB7XG5cdGlmICh0eXBlb2YgZ2xvYmFsVGhpcyA9PT0gJ29iamVjdCcpIHJldHVybiBnbG9iYWxUaGlzO1xuXHR0cnkge1xuXHRcdHJldHVybiB0aGlzIHx8IG5ldyBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0aWYgKHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnKSByZXR1cm4gd2luZG93O1xuXHR9XG59KSgpOyIsInZhciBzY3JpcHRVcmw7XG5pZiAoX193ZWJwYWNrX3JlcXVpcmVfXy5nLmltcG9ydFNjcmlwdHMpIHNjcmlwdFVybCA9IF9fd2VicGFja19yZXF1aXJlX18uZy5sb2NhdGlvbiArIFwiXCI7XG52YXIgZG9jdW1lbnQgPSBfX3dlYnBhY2tfcmVxdWlyZV9fLmcuZG9jdW1lbnQ7XG5pZiAoIXNjcmlwdFVybCAmJiBkb2N1bWVudCkge1xuXHRpZiAoZG9jdW1lbnQuY3VycmVudFNjcmlwdClcblx0XHRzY3JpcHRVcmwgPSBkb2N1bWVudC5jdXJyZW50U2NyaXB0LnNyY1xuXHRpZiAoIXNjcmlwdFVybCkge1xuXHRcdHZhciBzY3JpcHRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzY3JpcHRcIik7XG5cdFx0aWYoc2NyaXB0cy5sZW5ndGgpIHNjcmlwdFVybCA9IHNjcmlwdHNbc2NyaXB0cy5sZW5ndGggLSAxXS5zcmNcblx0fVxufVxuLy8gV2hlbiBzdXBwb3J0aW5nIGJyb3dzZXJzIHdoZXJlIGFuIGF1dG9tYXRpYyBwdWJsaWNQYXRoIGlzIG5vdCBzdXBwb3J0ZWQgeW91IG11c3Qgc3BlY2lmeSBhbiBvdXRwdXQucHVibGljUGF0aCBtYW51YWxseSB2aWEgY29uZmlndXJhdGlvblxuLy8gb3IgcGFzcyBhbiBlbXB0eSBzdHJpbmcgKFwiXCIpIGFuZCBzZXQgdGhlIF9fd2VicGFja19wdWJsaWNfcGF0aF9fIHZhcmlhYmxlIGZyb20geW91ciBjb2RlIHRvIHVzZSB5b3VyIG93biBsb2dpYy5cbmlmICghc2NyaXB0VXJsKSB0aHJvdyBuZXcgRXJyb3IoXCJBdXRvbWF0aWMgcHVibGljUGF0aCBpcyBub3Qgc3VwcG9ydGVkIGluIHRoaXMgYnJvd3NlclwiKTtcbnNjcmlwdFVybCA9IHNjcmlwdFVybC5yZXBsYWNlKC8jLiokLywgXCJcIikucmVwbGFjZSgvXFw/LiokLywgXCJcIikucmVwbGFjZSgvXFwvW15cXC9dKyQvLCBcIi9cIik7XG5fX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBzY3JpcHRVcmw7IiwidmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59O1xyXG52YXIgX19nZW5lcmF0b3IgPSAodGhpcyAmJiB0aGlzLl9fZ2VuZXJhdG9yKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn07XHJcbnZhciBVUkxfSFRUUCA9ICdodHRwOi8vJztcclxudmFyIFVSTF9XUyA9ICd3czovLyc7XHJcbnZhciBVUkxfU1RBVEUgPSAnL3N0YXRlJztcclxudmFyIFVSTF9DTEVBUiA9ICcvY2xlYXInO1xyXG52YXIgVVJMX1JFTU9WRSA9ICcvcmVtb3ZlJztcclxudmFyIFVSTF9QTE9UUyA9ICcvcGxvdHMnO1xyXG52YXIgVVJMX1BMT1QgPSAnL3Bsb3QnO1xyXG52YXIgVVJMX1JFTkRFUkVSUyA9ICcvcmVuZGVyZXJzJztcclxudmFyIEhFQURFUl9UT0tFTiA9ICdYLUhUVFBHRC1UT0tFTic7XHJcbmZ1bmN0aW9uIG1ha2VfaGVhZGVycyhiKSB7XHJcbiAgICB2YXIgaGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XHJcbiAgICBpZiAoYi50b2tlbikge1xyXG4gICAgICAgIGhlYWRlcnMuc2V0KEhFQURFUl9UT0tFTiwgdGhpcy50b2tlbik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gaGVhZGVycztcclxufVxyXG5mdW5jdGlvbiBmZXRjaF91cmwoYiwgdXJsKSB7XHJcbiAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIHJlcztcclxuICAgICAgICByZXR1cm4gX19nZW5lcmF0b3IodGhpcywgZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoX2EubGFiZWwpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogcmV0dXJuIFs0IC8qeWllbGQqLywgZmV0Y2godXJsLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IG1ha2VfaGVhZGVycyhiKVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXTtcclxuICAgICAgICAgICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSBfYS5zZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFs0IC8qeWllbGQqLywgcmVzLmpzb24oKV07XHJcbiAgICAgICAgICAgICAgICBjYXNlIDI6IHJldHVybiBbMiAvKnJldHVybiovLCBfYS5zZW50KCldO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG4vLyBBUEkgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5leHBvcnQgZnVuY3Rpb24gdXJsX3dlYnNvY2tldChiKSB7XHJcbiAgICByZXR1cm4gVVJMX1dTICsgYi5ob3N0O1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBuZXdfd2Vic29ja2V0KGIpIHtcclxuICAgIHJldHVybiBuZXcgV2ViU29ja2V0KHVybF93ZWJzb2NrZXQoYikpO1xyXG59XHJcbi8vIC9zdGF0ZVxyXG5leHBvcnQgZnVuY3Rpb24gdXJsX3N0YXRlKGIpIHtcclxuICAgIHJldHVybiBVUkxfSFRUUCArIGIuaG9zdCArIFVSTF9TVEFURTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfc3RhdGUoYikge1xyXG4gICAgcmV0dXJuIGZldGNoX3VybChiLCB1cmxfc3RhdGUoYikpO1xyXG59XHJcbi8vIC9jbGVhclxyXG5leHBvcnQgZnVuY3Rpb24gdXJsX2NsZWFyKGIpIHtcclxuICAgIHJldHVybiBVUkxfSFRUUCArIGIuaG9zdCArIFVSTF9DTEVBUjtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfY2xlYXIoYikge1xyXG4gICAgcmV0dXJuIGZldGNoX3VybChiLCB1cmxfY2xlYXIoYikpO1xyXG59XHJcbi8vIC9yZW5kZXJlcnNcclxuZXhwb3J0IGZ1bmN0aW9uIHVybF9yZW5kZXJlcnMoYikge1xyXG4gICAgcmV0dXJuIFVSTF9IVFRQICsgYi5ob3N0ICsgVVJMX1JFTkRFUkVSUztcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hfcmVuZGVyZXJzKGIpIHtcclxuICAgIHJldHVybiBmZXRjaF91cmwoYiwgdXJsX3JlbmRlcmVycyhiKSk7XHJcbn1cclxuLy8gL3Bsb3RzXHJcbmV4cG9ydCBmdW5jdGlvbiB1cmxfcGxvdHMoYikge1xyXG4gICAgcmV0dXJuIFVSTF9IVFRQICsgYi5ob3N0ICsgVVJMX1BMT1RTO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9wbG90cyhiKSB7XHJcbiAgICByZXR1cm4gZmV0Y2hfdXJsKGIsIHVybF9wbG90cyhiKSk7XHJcbn1cclxuLy8gL3Bsb3RcclxuZXhwb3J0IGZ1bmN0aW9uIHVybF9wbG90KGIsIHIsIGluY2x1ZGVUb2tlbiwgY2FjaGVzdHIpIHtcclxuICAgIHZhciB1cmwgPSBuZXcgVVJMKFVSTF9IVFRQICsgYi5ob3N0ICsgVVJMX1BMT1QpO1xyXG4gICAgaWYgKHIuaWQpXHJcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2lkJywgci5pZCk7XHJcbiAgICBpZiAoci5yZW5kZXJlcilcclxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgncmVuZGVyZXInLCByLnJlbmRlcmVyKTtcclxuICAgIGlmIChyLndpZHRoKVxyXG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCd3aWR0aCcsIE1hdGgucm91bmQoci53aWR0aCkudG9TdHJpbmcoKSk7XHJcbiAgICBpZiAoci5oZWlnaHQpXHJcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2hlaWdodCcsIE1hdGgucm91bmQoci5oZWlnaHQpLnRvU3RyaW5nKCkpO1xyXG4gICAgaWYgKHIuem9vbSlcclxuICAgICAgICB1cmwuc2VhcmNoUGFyYW1zLmFwcGVuZCgnem9vbScsIHIuem9vbS50b1N0cmluZygpKTtcclxuICAgIGlmIChyLmRvd25sb2FkKVxyXG4gICAgICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdkb3dubG9hZCcsIHIuZG93bmxvYWQpO1xyXG4gICAgLy8gSW4gc29tZSBjYXNlcyB0b2tlbiBuZWVkcyB0byBiZSBpbmNsdWRlZCBpbiBxdWVyeSBwYXJhbXMgYmVjYXVzZSByZXF1ZXN0IGhlYWRlcnMgY2FuJ3QgYmUgc2V0IChlLmcuIGltZy5zcmMpXHJcbiAgICBpZiAoaW5jbHVkZVRva2VuICYmIGIudG9rZW4pXHJcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ3Rva2VuJywgYi50b2tlbik7XHJcbiAgICBpZiAoY2FjaGVzdHIpXHJcbiAgICAgICAgdXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoJ2MnLCBjYWNoZXN0cik7XHJcbiAgICByZXR1cm4gdXJsLmhyZWY7XHJcbn1cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoX3Bsb3QoYiwgcikge1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1leHBsaWNpdC1hbnlcclxuICAgIHJldHVybiBmZXRjaF91cmwoYiwgdXJsX3Bsb3QoYiwgcikpO1xyXG59XHJcbi8vIC9yZW1vdmVcclxuZXhwb3J0IGZ1bmN0aW9uIHVybF9yZW1vdmUoYiwgcikge1xyXG4gICAgdmFyIHVybCA9IG5ldyBVUkwoVVJMX0hUVFAgKyBiLmhvc3QgKyBVUkxfUkVNT1ZFKTtcclxuICAgIHVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdpZCcsIHIuaWQpO1xyXG4gICAgcmV0dXJuIHVybC5ocmVmO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmZXRjaF9yZW1vdmUoYiwgcikge1xyXG4gICAgcmV0dXJuIGZldGNoX3VybChiLCB1cmxfcmVtb3ZlKGIsIHIpKTtcclxufVxyXG4iLCJleHBvcnQgZnVuY3Rpb24gZ2V0QnlJZChpZCkge1xyXG4gICAgdmFyIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xyXG4gICAgaWYgKCFlbCkge1xyXG4gICAgICAgIHRocm93IG5ldyBSZWZlcmVuY2VFcnJvcihpZCArIFwiIGlzIG5vdCBkZWZpbmVkXCIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVsO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBzdHJjbXAoYSwgYikge1xyXG4gICAgaWYgKGEgPCBiKSB7XHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG4gICAgaWYgKGEgPiBiKSB7XHJcbiAgICAgICAgcmV0dXJuIDE7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gMDtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZG93bmxvYWRVUkwodXJsLCBmaWxlbmFtZSwgdGFiKSB7XHJcbiAgICB2YXIgZGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XHJcbiAgICBkbC5ocmVmID0gdXJsO1xyXG4gICAgaWYgKGZpbGVuYW1lKSB7XHJcbiAgICAgICAgZGwuZG93bmxvYWQgPSBmaWxlbmFtZTtcclxuICAgIH1cclxuICAgIGlmICh0YWIpIHtcclxuICAgICAgICBkbC50YXJnZXQgPSAnX2JsYW5rJztcclxuICAgIH1cclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGwpO1xyXG4gICAgZGwuY2xpY2soKTtcclxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZGwpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBjb3B5Q2xpcGJvYXJkUE5HKHVybCkge1xyXG4gICAgZmV0Y2godXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsgcmV0dXJuIHJlcy5ibG9iKCk7IH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgdmFyIF9iO1xyXG4gICAgICAgIGlmIChibG9iKSB7XHJcbiAgICAgICAgICAgIChfYiA9IG5hdmlnYXRvciA9PT0gbnVsbCB8fCBuYXZpZ2F0b3IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IG5hdmlnYXRvci5jbGlwYm9hcmQpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi53cml0ZShbbmV3IENsaXBib2FyZEl0ZW0oKF9hID0ge30sIF9hW2Jsb2IudHlwZV0gPSBibG9iLCBfYSkpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGltYWdlVGVtcENhbnZhcyhpbWFnZSwgZm4pIHtcclxuICAgIHZhciBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcclxuICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoY2FudmFzKTtcclxuICAgIHZhciByZWN0ID0gaW1hZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICBjYW52YXMud2lkdGggPSByZWN0LndpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IHJlY3QuaGVpZ2h0O1xyXG4gICAgdmFyIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG4gICAgaWYgKCFjdHgpXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgY3R4LmRyYXdJbWFnZShpbWFnZSwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcclxuICAgIGZuKGNhbnZhcyk7XHJcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGNhbnZhcyk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkSW1nU1ZHKGltYWdlLCBmaWxlbmFtZSkge1xyXG4gICAgZmV0Y2goaW1hZ2Uuc3JjKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XHJcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XHJcbiAgICAgICAgZG93bmxvYWRVUkwoVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKSwgZmlsZW5hbWUpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGRvd25sb2FkSW1nUE5HKGltYWdlLCBmaWxlbmFtZSkge1xyXG4gICAgaW1hZ2VUZW1wQ2FudmFzKGltYWdlLCBmdW5jdGlvbiAoY2FudmFzKSB7XHJcbiAgICAgICAgdmFyIGltZ1VSSSA9IGNhbnZhc1xyXG4gICAgICAgICAgICAudG9EYXRhVVJMKCdpbWFnZS9wbmcnKVxyXG4gICAgICAgICAgICAucmVwbGFjZSgnaW1hZ2UvcG5nJywgJ2ltYWdlL29jdGV0LXN0cmVhbScpO1xyXG4gICAgICAgIGRvd25sb2FkVVJMKGltZ1VSSSwgZmlsZW5hbWUpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGNvcHlJbWdTVkdhc1BORyhpbWFnZSkge1xyXG4gICAgaWYgKCFuYXZpZ2F0b3IuY2xpcGJvYXJkKVxyXG4gICAgICAgIHJldHVybjtcclxuICAgIGltYWdlVGVtcENhbnZhcyhpbWFnZSwgZnVuY3Rpb24gKGNhbnZhcykge1xyXG4gICAgICAgIGNhbnZhcy50b0Jsb2IoZnVuY3Rpb24gKGJsb2IpIHtcclxuICAgICAgICAgICAgdmFyIF9hLCBfYjtcclxuICAgICAgICAgICAgaWYgKGJsb2IpIHtcclxuICAgICAgICAgICAgICAgIChfYiA9IChfYSA9IG5hdmlnYXRvci5jbGlwYm9hcmQpLndyaXRlKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuY2FsbChfYSwgW25ldyBDbGlwYm9hcmRJdGVtKHsgJ2ltYWdlL3BuZyc6IGJsb2IgfSldKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxudmFyIFN0YXRlQ2hhbmdlTGlzdGVuZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTdGF0ZUNoYW5nZUxpc3RlbmVyKCkge1xyXG4gICAgICAgIHRoaXMuZnVuID0gW107XHJcbiAgICB9XHJcbiAgICBTdGF0ZUNoYW5nZUxpc3RlbmVyLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZnVuLmxlbmd0aDsgKytpKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZnVuW2ldKG5ld1N0YXRlLCB0aGlzLm9sZFN0YXRlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5vbGRTdGF0ZSA9IG5ld1N0YXRlO1xyXG4gICAgfTtcclxuICAgIFN0YXRlQ2hhbmdlTGlzdGVuZXIucHJvdG90eXBlLnN1YnNjcmliZSA9IGZ1bmN0aW9uIChmdW4pIHtcclxuICAgICAgICB0aGlzLmZ1bi5wdXNoKGZ1bik7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIFN0YXRlQ2hhbmdlTGlzdGVuZXI7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFN0YXRlQ2hhbmdlTGlzdGVuZXIgfTtcclxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkTnVtYmVySW5wdXQoaW5wdXQsIG1pbiwgbWF4KSB7XHJcbiAgICB2YXIgcyA9IGlucHV0LnZhbHVlO1xyXG4gICAgaWYgKCFzLm1hdGNoKC9eXFxkKyQvKSlcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB2YXIgdiA9IHBhcnNlSW50KHMpO1xyXG4gICAgcmV0dXJuICh2ID49IG1pbikgJiYgKHYgPD0gbWF4KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gc2V0Q3NzQ2xhc3MoZWxlbWVudCwgc2V0LCBjc3NDbGFzcykge1xyXG4gICAgaWYgKHNldCkge1xyXG4gICAgICAgIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjc3NDbGFzcyk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3MpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHNldDtcclxufVxyXG4iLCJpbXBvcnQgKiBhcyBhcGkgZnJvbSAnLi9hcGknO1xyXG5pbXBvcnQgeyBTdGF0ZUNoYW5nZUxpc3RlbmVyIH0gZnJvbSAnLi91dGlscyc7XHJcbi8qKlxyXG4gKiBIYW5kbGVzIEhUVFAgYW5kIFdlYlNvY2tldCBjb25uZWN0aW9uIHRvIGh0dHBnZCBzZXJ2ZXIuXHJcbiAqXHJcbiAqIFdpbGwgYXV0b21hdGljYWxseSBmYWxsIGJhY2sgdG8gSFRUUCBwb2xsaW5nIGlmIFdlYlNvY2tldCBpcyB1bmF2YWlsYWJsZSBhbmRcclxuICogdXNlcyBhIHNsb3cgcG9sbGluZyBtb2RlIHRvIGV2ZW50dWFsbHkgcmVjb25uZWN0IHdoZW4gdGhlIHNlcnZlciBiZWNvbWVzXHJcbiAqIGNvbXBsZXRlbHkgdW5hdmFpbGFibGUuXHJcbiAqL1xyXG52YXIgSHR0cGdkQ29ubmVjdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcclxuICAgIGZ1bmN0aW9uIEh0dHBnZENvbm5lY3Rpb24oYmFja2VuZCwgYWxsb3dXZWJzb2NrZXRzKSB7XHJcbiAgICAgICAgdGhpcy5tb2RlID0gMCAvKiBOT05FICovO1xyXG4gICAgICAgIHRoaXMucGF1c2VQb2xsID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5kaXNjb25uZWN0ZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnJlbW90ZVN0YXRlQ2hhbmdlZCA9IG5ldyBTdGF0ZUNoYW5nZUxpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uQ2hhbmdlZCA9IG5ldyBTdGF0ZUNoYW5nZUxpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5iYWNrZW5kID0gYmFja2VuZDtcclxuICAgICAgICB0aGlzLmFsbG93V2Vic29ja2V0cyA9IGFsbG93V2Vic29ja2V0cyA/IGFsbG93V2Vic29ja2V0cyA6IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUub3BlbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5tb2RlICE9IDAgLyogTk9ORSAqLylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMuc3RhcnQoMyAvKiBXRUJTT0NLRVQgKi8pO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZENvbm5lY3Rpb24ucHJvdG90eXBlLmNsb3NlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT0gMCAvKiBOT05FICovKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgdGhpcy5zdGFydCgwIC8qIE5PTkUgKi8pO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZENvbm5lY3Rpb24ucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKHRhcmdldE1vZGUpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLm1vZGUgPT0gdGFyZ2V0TW9kZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHN3aXRjaCAodGFyZ2V0TW9kZSkge1xyXG4gICAgICAgICAgICBjYXNlIDEgLyogUE9MTCAqLzpcclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTdGFydCBQT0xMXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcldlYnNvY2tldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclBvbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9sbEhhbmRsZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBvbGwoKTsgfSwgSHR0cGdkQ29ubmVjdGlvbi5JTlRFUlZBTF9QT0xMKTtcclxuICAgICAgICAgICAgICAgIHRoaXMubW9kZSA9IHRhcmdldE1vZGU7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAyIC8qIFNMT1dQT0xMICovOlxyXG4gICAgICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcIlN0YXJ0IFNMT1dQT0xMXCIpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcldlYnNvY2tldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhclBvbGwoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucG9sbEhhbmRsZSA9IHNldEludGVydmFsKGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBvbGwoKTsgfSwgSHR0cGdkQ29ubmVjdGlvbi5JTlRFUlZBTF9QT0xMX1NMT1cpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlID0gdGFyZ2V0TW9kZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlIDMgLyogV0VCU09DS0VUICovOlxyXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmFsbG93V2Vic29ja2V0cykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnQoMSAvKiBQT0xMICovKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJTdGFydCBXRUJTT0NLRVRcIik7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUG9sbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jbGVhcldlYnNvY2tldCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQgPSBhcGkubmV3X3dlYnNvY2tldCh0aGlzLmJhY2tlbmQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zb2NrZXQub25tZXNzYWdlID0gZnVuY3Rpb24gKGV2KSB7IHJldHVybiBfdGhpcy5vbldzTWVzc2FnZShldi5kYXRhKTsgfTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9ub3BlbiA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLm9uV3NPcGVuKCk7IH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMub25Xc0Nsb3NlKCk7IH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNvY2tldC5vbmVycm9yID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc3RhcnQoMiAvKiBTTE9XUE9MTCAqLyk7IH07XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSB0YXJnZXRNb2RlO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5wb2xsKCk7IC8vIGdldCBpbml0aWFsIHN0YXRlXHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAwIC8qIE5PTkUgKi86XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyV2Vic29ja2V0KCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNsZWFyUG9sbCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlID0gdGFyZ2V0TW9kZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh0dHBnZENvbm5lY3Rpb24ucHJvdG90eXBlLmNsZWFyUG9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5wb2xsSGFuZGxlKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5wb2xsSGFuZGxlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUuY2xlYXJXZWJzb2NrZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuc29ja2V0KSB7XHJcbiAgICAgICAgICAgIHRoaXMuc29ja2V0Lm9uY2xvc2UgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB2b2lkICgwKTsgfTtcclxuICAgICAgICAgICAgdGhpcy5zb2NrZXQuY2xvc2UoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUucG9sbCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIGlmICh0aGlzLnBhdXNlUG9sbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGFwaS5mZXRjaF9zdGF0ZSh0aGlzLmJhY2tlbmQpLmNhdGNoKGZ1bmN0aW9uIChyZWFzb24pIHtcclxuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xyXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlbW90ZVN0YXRlKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnNldERpc2Nvbm5lY3RlZChmYWxzZSk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb2RlID09PSAyIC8qIFNMT1dQT0xMICovKVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhcnQoMyAvKiBXRUJTT0NLRVQgKi8pOyAvLyByZWNvbm5lY3RcclxuICAgICAgICAgICAgaWYgKF90aGlzLnBhdXNlUG9sbClcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgX3RoaXMuY2hlY2tTdGF0ZShyZW1vdGVTdGF0ZSk7XHJcbiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBfdGhpcy5zZXREaXNjb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy5tb2RlICE9PSAyIC8qIFNMT1dQT0xMICovKVxyXG4gICAgICAgICAgICAgICAgX3RoaXMuc3RhcnQoMiAvKiBTTE9XUE9MTCAqLyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUub25Xc01lc3NhZ2UgPSBmdW5jdGlvbiAobWVzc2FnZSkge1xyXG4gICAgICAgIGlmIChtZXNzYWdlLnN0YXJ0c1dpdGgoJ3snKSkge1xyXG4gICAgICAgICAgICB2YXIgcmVtb3RlU3RhdGUgPSBKU09OLnBhcnNlKG1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB0aGlzLmNoZWNrU3RhdGUocmVtb3RlU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJVbmtub3duIFdTIG1lc3NhZ2U6IFwiICsgbWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIEh0dHBnZENvbm5lY3Rpb24ucHJvdG90eXBlLm9uV3NDbG9zZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvL2NvbnNvbGUubG9nKCdXZWJzb2NrZXQgY2xvc2VkJyk7XHJcbiAgICAgICAgdGhpcy5zZXREaXNjb25uZWN0ZWQodHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUub25Xc09wZW4gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZygnV2Vic29ja2V0IG9wZW5lZCcpO1xyXG4gICAgICAgIHRoaXMuc2V0RGlzY29ubmVjdGVkKGZhbHNlKTtcclxuICAgIH07XHJcbiAgICBIdHRwZ2RDb25uZWN0aW9uLnByb3RvdHlwZS5zZXREaXNjb25uZWN0ZWQgPSBmdW5jdGlvbiAoZGlzY29ubmVjdGVkKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZGlzY29ubmVjdGVkICE9IGRpc2Nvbm5lY3RlZCkge1xyXG4gICAgICAgICAgICB0aGlzLmRpc2Nvbm5lY3RlZCA9IGRpc2Nvbm5lY3RlZDtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZGlzY29ubmVjdGVkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXJ0KDIgLyogU0xPV1BPTEwgKi8pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGFydCgzIC8qIFdFQlNPQ0tFVCAqLyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uQ2hhbmdlZC5ub3RpZnkoZGlzY29ubmVjdGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkQ29ubmVjdGlvbi5wcm90b3R5cGUuY2hlY2tTdGF0ZSA9IGZ1bmN0aW9uIChyZW1vdGVTdGF0ZSkge1xyXG4gICAgICAgIGlmICgoIXRoaXMubGFzdFN0YXRlKSB8fFxyXG4gICAgICAgICAgICAodGhpcy5sYXN0U3RhdGUuYWN0aXZlICE9PSByZW1vdGVTdGF0ZS5hY3RpdmUpIHx8XHJcbiAgICAgICAgICAgICh0aGlzLmxhc3RTdGF0ZS5oc2l6ZSAhPT0gcmVtb3RlU3RhdGUuaHNpemUpIHx8XHJcbiAgICAgICAgICAgICh0aGlzLmxhc3RTdGF0ZS51cGlkICE9PSByZW1vdGVTdGF0ZS51cGlkKSkge1xyXG4gICAgICAgICAgICB0aGlzLmxhc3RTdGF0ZSA9IHJlbW90ZVN0YXRlO1xyXG4gICAgICAgICAgICB0aGlzLnJlbW90ZVN0YXRlQ2hhbmdlZC5ub3RpZnkocmVtb3RlU3RhdGUpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdHRwZ2RDb25uZWN0aW9uLnByb3RvdHlwZS5vblJlbW90ZUNoYW5nZSA9IGZ1bmN0aW9uIChmdW4pIHtcclxuICAgICAgICB0aGlzLnJlbW90ZVN0YXRlQ2hhbmdlZC5zdWJzY3JpYmUoZnVuKTtcclxuICAgIH07XHJcbiAgICBIdHRwZ2RDb25uZWN0aW9uLnByb3RvdHlwZS5vbkNvbm5lY3Rpb25DaGFuZ2UgPSBmdW5jdGlvbiAoZnVuKSB7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uQ2hhbmdlZC5zdWJzY3JpYmUoZnVuKTtcclxuICAgIH07XHJcbiAgICBIdHRwZ2RDb25uZWN0aW9uLklOVEVSVkFMX1BPTEwgPSA1MDA7XHJcbiAgICBIdHRwZ2RDb25uZWN0aW9uLklOVEVSVkFMX1BPTExfU0xPVyA9IDE1MDAwO1xyXG4gICAgcmV0dXJuIEh0dHBnZENvbm5lY3Rpb247XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEh0dHBnZENvbm5lY3Rpb24gfTtcclxuIiwiaW1wb3J0IHsgZmV0Y2hfY2xlYXIsIGZldGNoX3Bsb3RzLCBmZXRjaF9yZW1vdmUsIGZldGNoX3JlbmRlcmVycywgdXJsX3Bsb3QgfSBmcm9tICcuL2FwaSc7XHJcbmltcG9ydCB7IEh0dHBnZENvbm5lY3Rpb24gfSBmcm9tICcuL2Nvbm5lY3Rpb24nO1xyXG5pbXBvcnQgeyBTdGF0ZUNoYW5nZUxpc3RlbmVyIH0gZnJvbSAnLi91dGlscyc7XHJcbnZhciBIdHRwZ2QgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBIdHRwZ2QoaG9zdCwgdG9rZW4sIGFsbG93V2Vic29ja2V0cykge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wbG90c0NoYW5nZWQgPSBuZXcgU3RhdGVDaGFuZ2VMaXN0ZW5lcigpO1xyXG4gICAgICAgIHRoaXMuZGV2aWNlQWN0aXZlQ2hhbmdlZCA9IG5ldyBTdGF0ZUNoYW5nZUxpc3RlbmVyKCk7XHJcbiAgICAgICAgdGhpcy5kYXRhID0geyByZW5kZXJlcnM6IG51bGwsIHBsb3RzOiBudWxsIH07XHJcbiAgICAgICAgdGhpcy5iYWNrZW5kID0geyBob3N0OiBob3N0LCB0b2tlbjogdG9rZW4gfTtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBuZXcgSHR0cGdkQ29ubmVjdGlvbih0aGlzLmJhY2tlbmQsIGFsbG93V2Vic29ja2V0cyk7XHJcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uUmVtb3RlQ2hhbmdlKGZ1bmN0aW9uIChuZXdTdGF0ZSwgb2xkU3RhdGUpIHsgcmV0dXJuIF90aGlzLnJlbW90ZVN0YXRlQ2hhbmdlZChuZXdTdGF0ZSwgb2xkU3RhdGUpOyB9KTtcclxuICAgIH1cclxuICAgIEh0dHBnZC5wcm90b3R5cGUuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24ub3BlbigpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnVwZGF0ZVJlbmRlcmVycygpO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZC5wcm90b3R5cGUub25Db25uZWN0aW9uQ2hhbmdlID0gZnVuY3Rpb24gKGZ1bikge1xyXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5vbkNvbm5lY3Rpb25DaGFuZ2UoZnVuKTtcclxuICAgIH07XHJcbiAgICBIdHRwZ2QucHJvdG90eXBlLnJlbW90ZVN0YXRlQ2hhbmdlZCA9IGZ1bmN0aW9uIChuZXdTdGF0ZSwgb2xkU3RhdGUpIHtcclxuICAgICAgICBpZiAoIW9sZFN0YXRlIHx8XHJcbiAgICAgICAgICAgIG9sZFN0YXRlLmhzaXplICE9PSBuZXdTdGF0ZS5oc2l6ZSB8fFxyXG4gICAgICAgICAgICBvbGRTdGF0ZS51cGlkICE9PSBuZXdTdGF0ZS51cGlkKSB7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUGxvdHMoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFvbGRTdGF0ZSB8fFxyXG4gICAgICAgICAgICBvbGRTdGF0ZS5hY3RpdmUgIT0gbmV3U3RhdGUuYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlQWN0aXZlQ2hhbmdlZC5ub3RpZnkobmV3U3RhdGUuYWN0aXZlKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkLnByb3RvdHlwZS51cGRhdGVSZW5kZXJlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gZmV0Y2hfcmVuZGVyZXJzKHRoaXMuYmFja2VuZCkudGhlbihmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmRhdGEucmVuZGVyZXJzID0gcmVzO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZC5wcm90b3R5cGUudXBkYXRlUGxvdHMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICBmZXRjaF9wbG90cyh0aGlzLmJhY2tlbmQpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgICAgICBfdGhpcy5kYXRhLnBsb3RzID0gcmVzO1xyXG4gICAgICAgICAgICBfdGhpcy5wbG90c0NoYW5nZWQubm90aWZ5KHJlcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkLnByb3RvdHlwZS5nZXRQbG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLnBsb3RzLnBsb3RzO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZC5wcm90b3R5cGUuZ2V0UmVuZGVyZXJzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEucmVuZGVyZXJzLnJlbmRlcmVycztcclxuICAgIH07XHJcbiAgICBIdHRwZ2QucHJvdG90eXBlLmdldFBsb3RVUkwgPSBmdW5jdGlvbiAocikge1xyXG4gICAgICAgIHJldHVybiB1cmxfcGxvdCh0aGlzLmJhY2tlbmQsIHIsIHRydWUsIHRoaXMuZGF0YS5wbG90cy5zdGF0ZS51cGlkLnRvU3RyaW5nKCkpO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZC5wcm90b3R5cGUub25QbG90c0NoYW5nZWQgPSBmdW5jdGlvbiAoZnVuKSB7XHJcbiAgICAgICAgdGhpcy5wbG90c0NoYW5nZWQuc3Vic2NyaWJlKGZ1bik7XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkLnByb3RvdHlwZS5vbkRldmljZUFjdGl2ZUNoYW5nZWQgPSBmdW5jdGlvbiAoZnVuKSB7XHJcbiAgICAgICAgdGhpcy5kZXZpY2VBY3RpdmVDaGFuZ2VkLnN1YnNjcmliZShmdW4pO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZC5wcm90b3R5cGUucmVtb3ZlUGxvdCA9IGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgZmV0Y2hfcmVtb3ZlKHRoaXMuYmFja2VuZCwgcik7XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkLnByb3RvdHlwZS5jbGVhclBsb3RzID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGZldGNoX2NsZWFyKHRoaXMuYmFja2VuZCk7XHJcbiAgICB9O1xyXG4gICAgcmV0dXJuIEh0dHBnZDtcclxufSgpKTtcclxuZXhwb3J0IHsgSHR0cGdkIH07XHJcbiIsIi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdmFyLXJlcXVpcmVzXHJcbmV4cG9ydCB2YXIgQVNTRVRfUExPVF9OT05FID0gcmVxdWlyZSgnLi9hc3NldHMvcGxvdC1ub25lLnN2ZycpO1xyXG4iLCJpbXBvcnQgeyBkb3dubG9hZFVSTCwgZ2V0QnlJZCwgdmFsaWROdW1iZXJJbnB1dCwgc2V0Q3NzQ2xhc3MsIHN0cmNtcCB9IGZyb20gJy4uL3V0aWxzJztcclxuaW1wb3J0IHsgQVNTRVRfUExPVF9OT05FIH0gZnJvbSAnLi4vcmVzb3VyY2VzJztcclxudmFyIEV4cG9ydFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBFeHBvcnRWaWV3KHZpZXdlcikge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XHJcbiAgICAgICAgdGhpcy5lbGVtTW9kYWwgPSBnZXRCeUlkKFwiZXhwLW1vZGFsXCIpO1xyXG4gICAgICAgIHRoaXMuaW1nUHJldmlldyA9IGdldEJ5SWQoXCJleHAtaW1hZ2VcIik7XHJcbiAgICAgICAgdGhpcy5pbnB1dFdpZHRoID0gZ2V0QnlJZChcImllLXdpZHRoXCIpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRIZWlnaHQgPSBnZXRCeUlkKFwiaWUtaGVpZ2h0XCIpO1xyXG4gICAgICAgIHRoaXMuaW5wdXRab29tID0gZ2V0QnlJZChcImllLXNjYWxlXCIpO1xyXG4gICAgICAgIHRoaXMuYnRuT3BlbiA9IGdldEJ5SWQoXCJpZS1idG4tb3BlblwiKTtcclxuICAgICAgICB0aGlzLmJ0bkRvd25sb2FkID0gZ2V0QnlJZChcImllLWJ0bi1kb3dubG9hZFwiKTtcclxuICAgICAgICB0aGlzLnNlbGVjdEZvcm1hdCA9IGdldEJ5SWQoXCJpZS1mb3JtYXRcIik7XHJcbiAgICAgICAgdGhpcy5idG5DbG9zZSA9IGdldEJ5SWQoXCJleHAtbW9kYWwtY2xvc2VcIik7XHJcbiAgICAgICAgdGhpcy5idG5DbG9zZS5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuaGlkZSgpOyB9O1xyXG4gICAgICAgIHdpbmRvdy5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09IF90aGlzLmVsZW1Nb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLmlucHV0V2lkdGguYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy51cGRhdGUoKTsgfSk7XHJcbiAgICAgICAgdGhpcy5pbnB1dEhlaWdodC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcclxuICAgICAgICB0aGlzLmlucHV0Wm9vbS5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnVwZGF0ZSgpOyB9KTtcclxuICAgICAgICB0aGlzLmJ0bkRvd25sb2FkLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jbGlja0Rvd25sb2FkKCk7IH07XHJcbiAgICAgICAgdGhpcy5idG5PcGVuLm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5jbGlja09wZW4oKTsgfTtcclxuICAgIH1cclxuICAgIEV4cG9ydFZpZXcucHJvdG90eXBlLmluaXRSZW5kZXJlcnMgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLnJlbmRlcmVycyA9IHRoaXMudmlld2VyLmh0dHBnZC5nZXRSZW5kZXJlcnMoKTtcclxuICAgICAgICB0aGlzLnJlbmRlcmVycy5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBzdHJjbXAoYS5uYW1lLCBiLm5hbWUpOyB9KS5mb3JFYWNoKGZ1bmN0aW9uIChyKSB7XHJcbiAgICAgICAgICAgIHZhciBvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcclxuICAgICAgICAgICAgby52YWx1ZSA9IHIuaWQ7XHJcbiAgICAgICAgICAgIG8udGV4dCA9IHIubmFtZSArIFwiICgqXCIgKyByLmV4dCArIFwiKVwiO1xyXG4gICAgICAgICAgICBfdGhpcy5zZWxlY3RGb3JtYXQuYWRkKG8pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuc2VsZWN0Rm9ybWF0LnZhbHVlID0gXCJzdmdcIjtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS5oaWRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHRoaXMuZWxlbU1vZGFsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS5pc1Zpc2libGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuZWxlbU1vZGFsLnN0eWxlLmRpc3BsYXkgJiZcclxuICAgICAgICAgICAgdGhpcy5lbGVtTW9kYWwuc3R5bGUuZGlzcGxheSAhPT0gXCJub25lXCI7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUudmFsaWRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdmFsaWROdW1iZXJJbnB1dCh0aGlzLmlucHV0V2lkdGgsIEV4cG9ydFZpZXcuTUlOX1BSRVZJRVdfU0laRSwgRXhwb3J0Vmlldy5NQVhfUFJFVklFV19TSVpFKTtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gTWF0aC5taW4ocGFyc2VJbnQodGhpcy5pbnB1dFdpZHRoLnZhbHVlKSwgRXhwb3J0Vmlldy5NQVhfUFJFVklFV19TSVpFKTtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS52YWxpZEhlaWdodCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gdmFsaWROdW1iZXJJbnB1dCh0aGlzLmlucHV0SGVpZ2h0LCBFeHBvcnRWaWV3Lk1JTl9QUkVWSUVXX1NJWkUsIEV4cG9ydFZpZXcuTUFYX1BSRVZJRVdfU0laRSk7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1pbihwYXJzZUludCh0aGlzLmlucHV0SGVpZ2h0LnZhbHVlKSwgRXhwb3J0Vmlldy5NQVhfUFJFVklFV19TSVpFKTtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS52YWxpZFpvb20gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbGlkTnVtYmVySW5wdXQodGhpcy5pbnB1dFpvb20sIEV4cG9ydFZpZXcuTUlOX1BSRVZJRVdfWk9PTSwgRXhwb3J0Vmlldy5NQVhfUFJFVklFV19aT09NKTtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS5nZXRab29tID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLm1heChwYXJzZUludCh0aGlzLmlucHV0Wm9vbS52YWx1ZSkgLyAxMDAsIEV4cG9ydFZpZXcuTUlOX1BSRVZJRVdfWk9PTSk7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUuZ2V0UmVuZGVyZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXIuaHR0cGdkLmdldFJlbmRlcmVycygpLmZpbmQoZnVuY3Rpb24gKHIpIHsgcmV0dXJuIHIuaWQgPT0gX3RoaXMuc2VsZWN0Rm9ybWF0LnZhbHVlOyB9KTtcclxuICAgIH07XHJcbiAgICBFeHBvcnRWaWV3LnByb3RvdHlwZS5jbGlja0Rvd25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwbG90SWQgPSB0aGlzLnZpZXdlci5wbG90Vmlldy5nZXRDdXJyZW50UGxvdElkKCk7XHJcbiAgICAgICAgaWYgKCFwbG90SWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLmdldFJlbmRlcmVyKCk7XHJcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudmlld2VyLmh0dHBnZC5nZXRQbG90VVJMKHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxyXG4gICAgICAgICAgICB6b29tOiB0aGlzLmdldFpvb20oKSxcclxuICAgICAgICAgICAgaWQ6IHBsb3RJZCxcclxuICAgICAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyLmlkLFxyXG4gICAgICAgICAgICBkb3dubG9hZDogXCJwbG90X1wiICsgcGxvdElkICsgcmVuZGVyZXIuZXh0LFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvd25sb2FkVVJMKHVybCk7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUuY2xpY2tPcGVuID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwbG90SWQgPSB0aGlzLnZpZXdlci5wbG90Vmlldy5nZXRDdXJyZW50UGxvdElkKCk7XHJcbiAgICAgICAgaWYgKCFwbG90SWQpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgcmVuZGVyZXIgPSB0aGlzLmdldFJlbmRlcmVyKCk7XHJcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudmlld2VyLmh0dHBnZC5nZXRQbG90VVJMKHtcclxuICAgICAgICAgICAgd2lkdGg6IHRoaXMuZ2V0V2lkdGgoKSxcclxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLmdldEhlaWdodCgpLFxyXG4gICAgICAgICAgICB6b29tOiB0aGlzLmdldFpvb20oKSxcclxuICAgICAgICAgICAgaWQ6IHBsb3RJZCxcclxuICAgICAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyLmlkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGRvd25sb2FkVVJMKHVybCwgbnVsbCwgdHJ1ZSk7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChzZXRDc3NDbGFzcyh0aGlzLmlucHV0V2lkdGgsICF0aGlzLnZhbGlkV2lkdGgoKSwgXCJpbnZhbGlkLWlucHV0XCIpIHx8XHJcbiAgICAgICAgICAgIHNldENzc0NsYXNzKHRoaXMuaW5wdXRIZWlnaHQsICF0aGlzLnZhbGlkSGVpZ2h0KCksIFwiaW52YWxpZC1pbnB1dFwiKSB8fFxyXG4gICAgICAgICAgICBzZXRDc3NDbGFzcyh0aGlzLmlucHV0Wm9vbSwgIXRoaXMudmFsaWRab29tKCksIFwiaW52YWxpZC1pbnB1dFwiKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHZhciBwbG90SWQgPSB0aGlzLnZpZXdlci5wbG90Vmlldy5nZXRDdXJyZW50UGxvdElkKCk7XHJcbiAgICAgICAgaWYgKCFwbG90SWQpIHtcclxuICAgICAgICAgICAgdGhpcy5pbWdQcmV2aWV3LnNyYyA9IEFTU0VUX1BMT1RfTk9ORTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgdXJsID0gdGhpcy52aWV3ZXIuaHR0cGdkLmdldFBsb3RVUkwoe1xyXG4gICAgICAgICAgICB3aWR0aDogdGhpcy5nZXRXaWR0aCgpLFxyXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuZ2V0SGVpZ2h0KCksXHJcbiAgICAgICAgICAgIHpvb206IHRoaXMuZ2V0Wm9vbSgpLFxyXG4gICAgICAgICAgICBpZDogcGxvdElkLFxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuaW1nUHJldmlldy5zcmMgPSB1cmw7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmVsZW1Nb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICB9O1xyXG4gICAgRXhwb3J0Vmlldy5NSU5fUFJFVklFV19TSVpFID0gMTtcclxuICAgIEV4cG9ydFZpZXcuTUFYX1BSRVZJRVdfU0laRSA9IDEwMDAwO1xyXG4gICAgRXhwb3J0Vmlldy5NSU5fUFJFVklFV19aT09NID0gMC4wMTtcclxuICAgIEV4cG9ydFZpZXcuTUFYX1BSRVZJRVdfWk9PTSA9IDEwMDAwO1xyXG4gICAgcmV0dXJuIEV4cG9ydFZpZXc7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IEV4cG9ydFZpZXcgfTtcclxuIiwiaW1wb3J0IHsgZ2V0QnlJZCB9IGZyb20gJy4uL3V0aWxzJztcclxudmFyIE92ZXJsYXlWaWV3ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gT3ZlcmxheVZpZXcodmlld2VyKSB7XHJcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5Q29udGFpbmVyID0gZ2V0QnlJZChcIm92ZXJsYXlcIik7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5VGV4dCA9IGdldEJ5SWQoXCJvdmVybGF5LXRleHRcIik7XHJcbiAgICB9XHJcbiAgICBPdmVybGF5Vmlldy5wcm90b3R5cGUuc2hvdyA9IGZ1bmN0aW9uICh0ZXh0KSB7XHJcbiAgICAgICAgdGhpcy5vdmVybGF5VGV4dC5pbm5lclRleHQgPSB0ZXh0O1xyXG4gICAgICAgIHRoaXMub3ZlcmxheUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJpbmxpbmVcIjtcclxuICAgIH07XHJcbiAgICBPdmVybGF5Vmlldy5wcm90b3R5cGUuaGlkZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLm92ZXJsYXlDb250YWluZXIuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgfTtcclxuICAgIE92ZXJsYXlWaWV3LlRFWFRfQ09OTkVDVElPTl9MT1NUID0gXCJDb25uZWN0aW9uIGxvc3QuXCI7XHJcbiAgICBPdmVybGF5Vmlldy5URVhUX0RFVklDRV9JTkFDVElWRSA9IFwiRGV2aWNlIGluYWN0aXZlLlwiO1xyXG4gICAgcmV0dXJuIE92ZXJsYXlWaWV3O1xyXG59KCkpO1xyXG5leHBvcnQgeyBPdmVybGF5VmlldyB9O1xyXG4iLCJpbXBvcnQgeyBnZXRCeUlkIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG52YXIgVG9vbGJhclZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBUb29sYmFyVmlldyh2aWV3ZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMudmlld2VyID0gdmlld2VyO1xyXG4gICAgICAgIHRoaXMuZHJvcGRvd24gPSBnZXRCeUlkKFwidGItbW9yZVwiKS5wYXJlbnRFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuZHJvcGRvd24ub25tb3VzZWVudGVyID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMuc2hvd0Ryb3Bkb3duKCk7IH07XHJcbiAgICAgICAgdGhpcy5kcm9wZG93bi5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5oaWRlRHJvcGRvd24oKTsgfTtcclxuICAgICAgICB0aGlzLnpvb21MYWJlbCA9IGdldEJ5SWQoXCJ0Yi16bHZsXCIpO1xyXG4gICAgICAgIHRoaXMucGFnZUxhYmVsID0gZ2V0QnlJZChcInRiLXBudW1cIik7XHJcbiAgICAgICAgdGhpcy5lbGVtVG9vbGJhciA9IGdldEJ5SWQoXCJ0b29sYmFyXCIpO1xyXG4gICAgICAgIHRoaXMuZWxlbUNvbnRhaW5lciA9IGdldEJ5SWQoXCJjb250YWluZXJcIik7XHJcbiAgICAgICAgdGhpcy50aW1vdXRGYWRlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mYWRlT3V0KCk7IH0sIFRvb2xiYXJWaWV3LkRFTEFZX0ZBREVfT1VUKTtcclxuICAgICAgICB0aGlzLmVsZW1Db250YWluZXIub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVsZW1Ub29sYmFyLmNsYXNzTGlzdC5yZW1vdmUoXCJmYWRlLW91dFwiKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLnRpbW91dEZhZGUpO1xyXG4gICAgICAgICAgICBfdGhpcy50aW1vdXRGYWRlID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mYWRlT3V0KCk7IH0sIFRvb2xiYXJWaWV3LkRFTEFZX0ZBREVfT1VUKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMuZWxlbUNvbnRhaW5lci5vbm1vdXNlbGVhdmUgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5mYWRlT3V0KCk7IH07XHJcbiAgICB9XHJcbiAgICBUb29sYmFyVmlldy5wcm90b3R5cGUucmVnaXN0ZXJBY3Rpb25zID0gZnVuY3Rpb24gKGFjdGlvbnMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHZhciBzaG9ydGN1dHMgPSB7fTtcclxuICAgICAgICB2YXIgX2xvb3BfMSA9IGZ1bmN0aW9uIChhKSB7XHJcbiAgICAgICAgICAgIGdldEJ5SWQoYS5pZCkub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGEuZigpO1xyXG4gICAgICAgICAgICAgICAgX3RoaXMuaGlkZURyb3Bkb3duKCk7XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIGlmIChhLmtleXMpIHtcclxuICAgICAgICAgICAgICAgIGZvciAodmFyIF9hID0gMCwgX2IgPSBhLmtleXM7IF9hIDwgX2IubGVuZ3RoOyBfYSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGsgPSBfYltfYV07XHJcbiAgICAgICAgICAgICAgICAgICAgc2hvcnRjdXRzW2tdID0gYTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9yICh2YXIgX2kgPSAwLCBhY3Rpb25zXzEgPSBhY3Rpb25zOyBfaSA8IGFjdGlvbnNfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBhY3Rpb25zXzFbX2ldO1xyXG4gICAgICAgICAgICBfbG9vcF8xKGEpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGlmIChfdGhpcy52aWV3ZXIuZXhwb3J0Vmlldy5pc1Zpc2libGUoKSlcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgdmFyIGEgPSBzaG9ydGN1dHNbZS5rZXlDb2RlXTtcclxuICAgICAgICAgICAgaWYgKGEgJiYgKCFhLmFsdEtleSB8fCBlLmFsdEtleSkpIHtcclxuICAgICAgICAgICAgICAgIGEuZigpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG4gICAgVG9vbGJhclZpZXcucHJvdG90eXBlLnNob3dEcm9wZG93biA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLmRyb3Bkb3duLmNsYXNzTGlzdC5hZGQoVG9vbGJhclZpZXcuQ1NTX1NIT1dfRFJPUERPV04pO1xyXG4gICAgfTtcclxuICAgIFRvb2xiYXJWaWV3LnByb3RvdHlwZS5oaWRlRHJvcGRvd24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5kcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKFRvb2xiYXJWaWV3LkNTU19TSE9XX0RST1BET1dOKTtcclxuICAgIH07XHJcbiAgICBUb29sYmFyVmlldy5wcm90b3R5cGUuc2V0Wm9vbUxhYmVsVGV4dCA9IGZ1bmN0aW9uIChzKSB7XHJcbiAgICAgICAgdGhpcy56b29tTGFiZWwuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgPSBzO1xyXG4gICAgfTtcclxuICAgIFRvb2xiYXJWaWV3LnByb3RvdHlwZS5zZXRQYWdlTGFiZWxUZXh0ID0gZnVuY3Rpb24gKHMpIHtcclxuICAgICAgICB0aGlzLnBhZ2VMYWJlbC5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSA9IHM7XHJcbiAgICB9O1xyXG4gICAgVG9vbGJhclZpZXcucHJvdG90eXBlLmZhZGVPdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5lbGVtVG9vbGJhci5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIik7XHJcbiAgICB9O1xyXG4gICAgVG9vbGJhclZpZXcuREVMQVlfRkFERV9PVVQgPSA0MDAwO1xyXG4gICAgVG9vbGJhclZpZXcuQ1NTX1NIT1dfRFJPUERPV04gPSBcImRyb3Atb3BlblwiO1xyXG4gICAgcmV0dXJuIFRvb2xiYXJWaWV3O1xyXG59KCkpO1xyXG5leHBvcnQgeyBUb29sYmFyVmlldyB9O1xyXG4iLCJpbXBvcnQgeyBnZXRCeUlkIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG52YXIgU2lkZWJhclZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBTaWRlYmFyVmlldyh2aWV3ZXIpIHtcclxuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcclxuICAgICAgICB0aGlzLmVsZW1QbG90VmlldyA9IGdldEJ5SWQoXCJwbG90dmlld1wiKTtcclxuICAgICAgICB0aGlzLmVsZW1TaWRlYmFyID0gZ2V0QnlJZChcInNpZGViYXJcIik7XHJcbiAgICB9XHJcbiAgICBTaWRlYmFyVmlldy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKHBsb3RzKSB7XHJcbiAgICAgICAgLy90aGlzLnNpZGViYXIuaW5uZXJIVE1MID0gJyc7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgaWR4ID0gMDtcclxuICAgICAgICB3aGlsZSAoaWR4IDwgdGhpcy5lbGVtU2lkZWJhci5jaGlsZHJlbi5sZW5ndGgpIHtcclxuICAgICAgICAgICAgaWYgKGlkeCA+PSBwbG90cy5wbG90cy5sZW5ndGggfHwgdGhpcy5lbGVtU2lkZWJhci5jaGlsZHJlbltpZHhdLmdldEF0dHJpYnV0ZSgnZGF0YS1waWQnKSAhPT0gcGxvdHMucGxvdHNbaWR4XS5pZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtU2lkZWJhci5yZW1vdmVDaGlsZCh0aGlzLmVsZW1TaWRlYmFyLmNoaWxkcmVuW2lkeF0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWR4Kys7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdmFyIF9sb29wXzEgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciBwID0gcGxvdHMucGxvdHNbaWR4XTtcclxuICAgICAgICAgICAgdmFyIGVsZW1fY2FyZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgICAgIGVsZW1fY2FyZC5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGlkJywgcC5pZCk7XHJcbiAgICAgICAgICAgIHZhciBlbGVtX3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKTtcclxuICAgICAgICAgICAgZWxlbV94LmlubmVySFRNTCA9IFwiJiMxMDAwNjtcIjtcclxuICAgICAgICAgICAgZWxlbV94Lm9uY2xpY2sgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBfdGhpcy52aWV3ZXIuaHR0cGdkLnJlbW92ZVBsb3QoeyBpZDogcC5pZCB9KTtcclxuICAgICAgICAgICAgICAgIF90aGlzLnZpZXdlci5odHRwZ2QudXBkYXRlUGxvdHMoKTtcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgdmFyIGVsZW1faW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuICAgICAgICAgICAgZWxlbV9jYXJkLmNsYXNzTGlzdC5hZGQoXCJoaXN0b3J5LWl0ZW1cIik7XHJcbiAgICAgICAgICAgIGVsZW1fY2FyZC5jbGFzc0xpc3QuYWRkKFwiaGlzdG9yeS1pdGVtXCIpO1xyXG4gICAgICAgICAgICBlbGVtX2ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIHRoaXNfMS52aWV3ZXIuaHR0cGdkLmdldFBsb3RVUkwoeyBpZDogcC5pZCB9KSk7XHJcbiAgICAgICAgICAgIGVsZW1fY2FyZC5vbmNsaWNrID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMudmlld2VyLnBsb3RWaWV3LnNldFBhZ2UocC5pZCk7IH07XHJcbiAgICAgICAgICAgIGVsZW1fY2FyZC5hcHBlbmRDaGlsZChlbGVtX2ltZyk7XHJcbiAgICAgICAgICAgIGVsZW1fY2FyZC5hcHBlbmRDaGlsZChlbGVtX3gpO1xyXG4gICAgICAgICAgICB0aGlzXzEuZWxlbVNpZGViYXIuYXBwZW5kQ2hpbGQoZWxlbV9jYXJkKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIHZhciB0aGlzXzEgPSB0aGlzO1xyXG4gICAgICAgIGZvciAoOyBpZHggPCBwbG90cy5wbG90cy5sZW5ndGg7ICsraWR4KSB7XHJcbiAgICAgICAgICAgIF9sb29wXzEoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgU2lkZWJhclZpZXcucHJvdG90eXBlLnNldFNlbGVjdGVkID0gZnVuY3Rpb24gKHBsb3RJZCkge1xyXG4gICAgICAgIHZhciBhY3RpdmVDYXJkO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5lbGVtU2lkZWJhci5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICB2YXIgY2FyZCA9IHRoaXMuZWxlbVNpZGViYXIuY2hpbGRyZW5baV07XHJcbiAgICAgICAgICAgIGlmIChjYXJkLmdldEF0dHJpYnV0ZSgnZGF0YS1waWQnKSA9PT0gcGxvdElkKSB7XHJcbiAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5hZGQoXCJoaXN0b3J5LXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICAgICAgYWN0aXZlQ2FyZCA9IGNhcmQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC5yZW1vdmUoXCJoaXN0b3J5LXNlbGVjdGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhY3RpdmVDYXJkKSB7IC8vIHNjcm9sbCB0byBjYXJkXHJcbiAgICAgICAgICAgIHZhciBiYl9jYXJkID0gYWN0aXZlQ2FyZC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICAgICAgdmFyIHlfY2FyZCA9IGJiX2NhcmQueSArIHRoaXMuZWxlbVNpZGViYXIuc2Nyb2xsVG9wO1xyXG4gICAgICAgICAgICB2YXIgaF9jYXJkID0gYmJfY2FyZC5oZWlnaHQ7XHJcbiAgICAgICAgICAgIHZhciBoX3NpZGViYXIgPSB0aGlzLmVsZW1TaWRlYmFyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coeyB5X2NhcmQ6IHlfY2FyZCwgaF9zaWRlYmFyOiBoX3NpZGViYXIgfSk7XHJcbiAgICAgICAgICAgIHZhciBoID0geV9jYXJkIC0gKGhfc2lkZWJhciAvIDIgLSBoX2NhcmQgLyAyKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaCk7XHJcbiAgICAgICAgICAgIC8vdGhpcy5lbGVtU2lkZWJhci5zY3JvbGxUbygwLCBoKTsgXHJcbiAgICAgICAgICAgIHRoaXMuZWxlbVNpZGViYXIuc2Nyb2xsVG8oe1xyXG4gICAgICAgICAgICAgICAgdG9wOiBoLFxyXG4gICAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvL3B1YmxpYyBzY3JvbGxUb3AoKTogdm9pZCB7XHJcbiAgICAvLyAgICB0aGlzLmVsZW1TaWRlYmFyLnNjcm9sbFRvcCA9IHRoaXMuZWxlbVNpZGViYXIuc2Nyb2xsSGVpZ2h0O1xyXG4gICAgLy99XHJcbiAgICBTaWRlYmFyVmlldy5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5lbGVtU2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCdub2hpc3QnKTtcclxuICAgICAgICB0aGlzLmVsZW1QbG90Vmlldy5jbGFzc0xpc3QudG9nZ2xlKCdub2hpc3QnKTtcclxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnZpZXdlci5wbG90Vmlldy51cGRhdGUoKTsgfSwgMzAwKTtcclxuICAgIH07XHJcbiAgICBTaWRlYmFyVmlldy5wcm90b3R5cGUuaGlkZVdpdGhvdXRBbmltYXRpb24gPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB0aGlzLmVsZW1TaWRlYmFyLmNsYXNzTGlzdC5hZGQoJ25vdHJhbnNpdGlvbicsICdub2hpc3QnKTtcclxuICAgICAgICB0aGlzLmVsZW1QbG90Vmlldy5jbGFzc0xpc3QuYWRkKCdub3RyYW5zaXRpb24nLCAnbm9oaXN0Jyk7XHJcbiAgICAgICAgdGhpcy52aWV3ZXIucGxvdFZpZXcudXBkYXRlKCk7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLmVsZW1TaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ25vdHJhbnNpdGlvbicpO1xyXG4gICAgICAgICAgICBfdGhpcy5lbGVtUGxvdFZpZXcuY2xhc3NMaXN0LnJlbW92ZSgnbm90cmFuc2l0aW9uJyk7XHJcbiAgICAgICAgfSwgMzAwKTtcclxuICAgIH07XHJcbiAgICByZXR1cm4gU2lkZWJhclZpZXc7XHJcbn0oKSk7XHJcbmV4cG9ydCB7IFNpZGViYXJWaWV3IH07XHJcbiIsImltcG9ydCB7IGdldEJ5SWQsIGRvd25sb2FkSW1nU1ZHLCBkb3dubG9hZEltZ1BORywgY29weUltZ1NWR2FzUE5HIH0gZnJvbSAnLi4vdXRpbHMnO1xyXG5pbXBvcnQgeyBBU1NFVF9QTE9UX05PTkUgfSBmcm9tICcuLi9yZXNvdXJjZXMnO1xyXG5pbXBvcnQgeyBUb29sYmFyVmlldyB9IGZyb20gJy4vdG9vbGJhclZpZXcnO1xyXG5pbXBvcnQgeyBTaWRlYmFyVmlldyB9IGZyb20gJy4vc2lkZWJhclZpZXcnO1xyXG52YXIgUGxvdFZpZXcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7XHJcbiAgICBmdW5jdGlvbiBQbG90Vmlldyh2aWV3ZXIpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMucmVzaXplQmxvY2tlZCA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBQbG90Vmlldy5TQ0FMRV9ERUZBVUxUOyAvLyB6b29tIGxldmVsXHJcbiAgICAgICAgdGhpcy5wYWdlID0gMTtcclxuICAgICAgICB0aGlzLnZpZXdlciA9IHZpZXdlcjtcclxuICAgICAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhclZpZXcodmlld2VyKTtcclxuICAgICAgICB0aGlzLnNpZGViYXIgPSBuZXcgU2lkZWJhclZpZXcodmlld2VyKTtcclxuICAgICAgICB0aGlzLmltYWdlID0gZ2V0QnlJZChcImRyYXdpbmdcIik7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSBBU1NFVF9QTE9UX05PTkU7XHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucmVzaXplKCk7IH0pO1xyXG4gICAgfVxyXG4gICAgUGxvdFZpZXcucHJvdG90eXBlLnVwZGF0ZVBsb3RzID0gZnVuY3Rpb24gKG5ld1N0YXRlKSB7XHJcbiAgICAgICAgdGhpcy5wbG90cyA9IG5ld1N0YXRlO1xyXG4gICAgICAgIHRoaXMudXBkYXRlUGFnZUxhYmVsKCk7XHJcbiAgICAgICAgdGhpcy5zaWRlYmFyLnVwZGF0ZShuZXdTdGF0ZSk7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gdGhpcy5wbG90cy5wbG90cy5sZW5ndGg7XHJcbiAgICB9O1xyXG4gICAgUGxvdFZpZXcucHJvdG90eXBlLmdldEN1cnJlbnRQbG90SWQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsb3RzKVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB3aGlsZSAodGhpcy5wYWdlIDwgMSkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2UgKz0gdGhpcy5wbG90cy5wbG90cy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdoaWxlICh0aGlzLnBhZ2UgPiB0aGlzLnBsb3RzLnBsb3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLnBhZ2UgLT0gdGhpcy5wbG90cy5wbG90cy5sZW5ndGg7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnBsb3RzLnBsb3RzW3RoaXMucGFnZSAtIDFdLmlkO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS51cGRhdGUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBsb3RzKSB7XHJcbiAgICAgICAgICAgIHRoaXMuaW1hZ2Uuc3JjID0gQVNTRVRfUExPVF9OT05FO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBwbG90SWQgPSB0aGlzLmdldEN1cnJlbnRQbG90SWQoKTtcclxuICAgICAgICB2YXIgcmVjdCA9IHRoaXMuaW1hZ2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgdmFyIHVybCA9IHRoaXMudmlld2VyLmh0dHBnZC5nZXRQbG90VVJMKHtcclxuICAgICAgICAgICAgaWQ6IHBsb3RJZCxcclxuICAgICAgICAgICAgd2lkdGg6IHJlY3Qud2lkdGgsXHJcbiAgICAgICAgICAgIGhlaWdodDogcmVjdC5oZWlnaHQsXHJcbiAgICAgICAgICAgIHpvb206IHRoaXMuc2NhbGUsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5pbWFnZS5zcmMgPSB1cmw7XHJcbiAgICAgICAgdGhpcy51cGRhdGVQYWdlTGFiZWwoKTtcclxuICAgICAgICB0aGlzLnNpZGViYXIuc2V0U2VsZWN0ZWQocGxvdElkKTtcclxuICAgIH07XHJcbiAgICBQbG90Vmlldy5wcm90b3R5cGUucmVzaXplID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgaWYgKHRoaXMucmVzaXplQmxvY2tlZClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIHRoaXMucmVzaXplQmxvY2tlZCA9IHRydWU7XHJcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZSgpO1xyXG4gICAgICAgICAgICBfdGhpcy5yZXNpemVCbG9ja2VkID0gZmFsc2U7XHJcbiAgICAgICAgfSwgUGxvdFZpZXcuQ09PTERPV05fUkVTSVpFKTtcclxuICAgIH07XHJcbiAgICAvLyBab29taW5nXHJcbiAgICBQbG90Vmlldy5wcm90b3R5cGUuem9vbU91dCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5zY2FsZSAtIFBsb3RWaWV3LlNDQUxFX1NURVAgPiBQbG90Vmlldy5TQ0FMRV9NSU4pIHtcclxuICAgICAgICAgICAgdGhpcy5zY2FsZSAtPSBQbG90Vmlldy5TQ0FMRV9TVEVQO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnVwZGF0ZVpvb21MYWJlbCgpO1xyXG4gICAgICAgIHRoaXMucmVzaXplKCk7XHJcbiAgICB9O1xyXG4gICAgUGxvdFZpZXcucHJvdG90eXBlLnpvb21JbiA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnNjYWxlICs9IFBsb3RWaWV3LlNDQUxFX1NURVA7XHJcbiAgICAgICAgdGhpcy51cGRhdGVab29tTGFiZWwoKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS56b29tUmVzZXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IFBsb3RWaWV3LlNDQUxFX0RFRkFVTFQ7XHJcbiAgICAgICAgdGhpcy51cGRhdGVab29tTGFiZWwoKTtcclxuICAgICAgICB0aGlzLnJlc2l6ZSgpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5nZXRab29tU3RyaW5nID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBNYXRoLmNlaWwodGhpcy5zY2FsZSAvIFBsb3RWaWV3LlNDQUxFX0RFRkFVTFQgKiAxMDApICsgJyUnO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS51cGRhdGVab29tTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50b29sYmFyLnNldFpvb21MYWJlbFRleHQodGhpcy5nZXRab29tU3RyaW5nKCkpO1xyXG4gICAgfTtcclxuICAgIC8vIFBhZ2VuYXRpb25cclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5uZXh0UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhZ2UrKztcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5wcmV2UGFnZSA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnBhZ2UtLTtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5uZXdlc3RQYWdlID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wbG90cylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmICh0aGlzLnBhZ2UgPT0gdGhpcy5wbG90cy5wbG90cy5sZW5ndGgpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB0aGlzLnBhZ2UgPSB0aGlzLnBsb3RzLnBsb3RzLmxlbmd0aDtcclxuICAgICAgICB0aGlzLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5zZXRQYWdlID0gZnVuY3Rpb24gKHBsb3RJZCkge1xyXG4gICAgICAgIGlmICghdGhpcy5wbG90cylcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5wbG90cy5wbG90cy5sZW5ndGg7ICsraSkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbG90cy5wbG90c1tpXS5pZCA9PT0gcGxvdElkKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnBhZ2UgPSBpICsgMTtcclxuICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgUGxvdFZpZXcucHJvdG90eXBlLmdldFBhZ2VTdHJpbmcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGxvdHMgPyAodGhpcy5wYWdlICsgXCIvXCIgKyB0aGlzLnBsb3RzLnBsb3RzLmxlbmd0aCkgOiBcIjAvMFwiO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS51cGRhdGVQYWdlTGFiZWwgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdGhpcy50b29sYmFyLnNldFBhZ2VMYWJlbFRleHQodGhpcy5nZXRQYWdlU3RyaW5nKCkpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5kb3dubG9hZFNWRyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBkb3dubG9hZEltZ1NWRyh0aGlzLmltYWdlLCAncGxvdC5zdmcnKTtcclxuICAgIH07XHJcbiAgICBQbG90Vmlldy5wcm90b3R5cGUuZG93bmxvYWRQTkcgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gdG9kbzogZG93bmxvYWQgc2VydmVyIHNpZGUgcmVuZGVyZWQgUE5HIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGRvd25sb2FkSW1nUE5HKHRoaXMuaW1hZ2UsICdwbG90LnBuZycpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LnByb3RvdHlwZS5jb3B5UE5HID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHRvZG86IGNvcHkgc2VydmVyIHNpZGUgcmVuZGVyZWQgUE5HIGlmIGF2YWlsYWJsZVxyXG4gICAgICAgIGNvcHlJbWdTVkdhc1BORyh0aGlzLmltYWdlKTtcclxuICAgIH07XHJcbiAgICBQbG90Vmlldy5wcm90b3R5cGUucmVtb3ZlUGxvdCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnZpZXdlci5odHRwZ2QucmVtb3ZlUGxvdCh7IGlkOiB0aGlzLmdldEN1cnJlbnRQbG90SWQoKSB9KTtcclxuICAgIH07XHJcbiAgICBQbG90Vmlldy5wcm90b3R5cGUuY2xlYXJQbG90cyA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB0aGlzLnZpZXdlci5odHRwZ2QuY2xlYXJQbG90cygpO1xyXG4gICAgfTtcclxuICAgIFBsb3RWaWV3LkNPT0xET1dOX1JFU0laRSA9IDIwMDtcclxuICAgIFBsb3RWaWV3LlNDQUxFX0RFRkFVTFQgPSAxLjI1O1xyXG4gICAgUGxvdFZpZXcuU0NBTEVfU1RFUCA9IFBsb3RWaWV3LlNDQUxFX0RFRkFVTFQgLyAxMi4wO1xyXG4gICAgUGxvdFZpZXcuU0NBTEVfTUlOID0gMC41O1xyXG4gICAgcmV0dXJuIFBsb3RWaWV3O1xyXG59KCkpO1xyXG5leHBvcnQgeyBQbG90VmlldyB9O1xyXG4iLCJpbXBvcnQgeyBIdHRwZ2QgfSBmcm9tICcuL2h0dHBnZCc7XHJcbmltcG9ydCB7IEV4cG9ydFZpZXcgfSBmcm9tICcuL3ZpZXdzL2V4cG9ydFZpZXcnO1xyXG5pbXBvcnQgeyBPdmVybGF5VmlldyB9IGZyb20gJy4vdmlld3Mvb3ZlcmxheVZpZXcnO1xyXG5pbXBvcnQgeyBQbG90VmlldyB9IGZyb20gJy4vdmlld3MvcGxvdFZpZXcnO1xyXG52YXIgSHR0cGdkVmlld2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkge1xyXG4gICAgZnVuY3Rpb24gSHR0cGdkVmlld2VyKGhvc3QsIHRva2VuLCBhbGxvd1dlYnNvY2tldHMpIHtcclxuICAgICAgICB2YXIgX3RoaXMgPSB0aGlzO1xyXG4gICAgICAgIHRoaXMuaHR0cGdkID0gbmV3IEh0dHBnZChob3N0LCB0b2tlbiwgYWxsb3dXZWJzb2NrZXRzKTtcclxuICAgICAgICB0aGlzLmh0dHBnZC5vblBsb3RzQ2hhbmdlZChmdW5jdGlvbiAobmV3U3RhdGUpIHsgcmV0dXJuIF90aGlzLnBsb3RzQ2hhbmdlZChuZXdTdGF0ZSk7IH0pO1xyXG4gICAgICAgIHRoaXMuaHR0cGdkLm9uQ29ubmVjdGlvbkNoYW5nZShmdW5jdGlvbiAobmV3U3RhdGUpIHsgcmV0dXJuIF90aGlzLmNvbm5lY3Rpb25DaGFuZ2VkKG5ld1N0YXRlKTsgfSk7XHJcbiAgICAgICAgdGhpcy5odHRwZ2Qub25EZXZpY2VBY3RpdmVDaGFuZ2VkKGZ1bmN0aW9uIChuZXdTdGF0ZSkgeyByZXR1cm4gX3RoaXMuZGV2aWNlQWN0aXZlQ2hhbmdlZChuZXdTdGF0ZSk7IH0pO1xyXG4gICAgfVxyXG4gICAgSHR0cGdkVmlld2VyLnByb3RvdHlwZS5wbG90c0NoYW5nZWQgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIChfYSA9IHRoaXMucGxvdFZpZXcpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS51cGRhdGVQbG90cyhuZXdTdGF0ZSk7XHJcbiAgICAgICAgKF9iID0gdGhpcy5wbG90VmlldykgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLnVwZGF0ZSgpO1xyXG4gICAgfTtcclxuICAgIEh0dHBnZFZpZXdlci5wcm90b3R5cGUuY29ubmVjdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAobmV3U3RhdGUpIHtcclxuICAgICAgICB2YXIgX2EsIF9iO1xyXG4gICAgICAgIGlmIChuZXdTdGF0ZSkge1xyXG4gICAgICAgICAgICAoX2EgPSB0aGlzLm92ZXJsYXlWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hvdyhPdmVybGF5Vmlldy5URVhUX0NPTk5FQ1RJT05fTE9TVCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAoX2IgPSB0aGlzLm92ZXJsYXlWaWV3KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBIdHRwZ2RWaWV3ZXIucHJvdG90eXBlLmRldmljZUFjdGl2ZUNoYW5nZWQgPSBmdW5jdGlvbiAoYWN0aXZlKSB7XHJcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcclxuICAgICAgICB2YXIgX2E7XHJcbiAgICAgICAgaWYgKHRoaXMuZGV2aWNlSW5hY3RpdmVEZWxheWVkKSB7XHJcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLmRldmljZUluYWN0aXZlRGVsYXllZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghYWN0aXZlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuZGV2aWNlSW5hY3RpdmVEZWxheWVkID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHZhciBfYTsgcmV0dXJuIChfYSA9IF90aGlzLm92ZXJsYXlWaWV3KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc2hvdyhPdmVybGF5Vmlldy5URVhUX0RFVklDRV9JTkFDVElWRSk7IH0sIEh0dHBnZFZpZXdlci5DT09MRE9XTl9ERVZJQ0VfSU5BQ1RJVkUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgKF9hID0gdGhpcy5vdmVybGF5VmlldykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgSHR0cGdkVmlld2VyLnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBfdGhpcyA9IHRoaXM7XHJcbiAgICAgICAgdGhpcy5wbG90VmlldyA9IG5ldyBQbG90Vmlldyh0aGlzKTtcclxuICAgICAgICB0aGlzLm92ZXJsYXlWaWV3ID0gbmV3IE92ZXJsYXlWaWV3KHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZXhwb3J0VmlldyA9IG5ldyBFeHBvcnRWaWV3KHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaHR0cGdkLmNvbm5lY3QoKS50aGVuKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgX3RoaXMuZXhwb3J0Vmlldy5pbml0UmVuZGVyZXJzKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy5wbG90Vmlldy50b29sYmFyLnJlZ2lzdGVyQWN0aW9ucyhbXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGtleXM6IFszNywgNDBdLFxyXG4gICAgICAgICAgICAgICAgZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGxvdFZpZXcucHJldlBhZ2UoKTsgfSxcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLWxlZnRcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5czogWzM5LCAzOF0sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbG90Vmlldy5uZXh0UGFnZSgpOyB9LFxyXG4gICAgICAgICAgICAgICAgaWQ6IFwidGItcmlnaHRcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5czogWzc4XSxcclxuICAgICAgICAgICAgICAgIGY6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBsb3RWaWV3Lm5ld2VzdFBhZ2UoKTsgfSxcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLXBudW1cIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5czogWzE4N10sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbG90Vmlldy56b29tSW4oKTsgfSxcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLXBsdXNcIixcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAga2V5czogWzE4OV0sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbG90Vmlldy56b29tT3V0KCk7IH0sXHJcbiAgICAgICAgICAgICAgICBpZDogXCJ0Yi1taW51c1wiLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBrZXlzOiBbNDhdLFxyXG4gICAgICAgICAgICAgICAgZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGxvdFZpZXcuem9vbVJlc2V0KCk7IH0sXHJcbiAgICAgICAgICAgICAgICBpZDogXCJ0Yi16bHZsXCIsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLWNsZWFyXCIsXHJcbiAgICAgICAgICAgICAgICBhbHRLZXk6IHRydWUsXHJcbiAgICAgICAgICAgICAgICBrZXlzOiBbNjhdLFxyXG4gICAgICAgICAgICAgICAgZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGxvdFZpZXcuY2xlYXJQbG90cygpOyB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJ0Yi1yZW1vdmVcIixcclxuICAgICAgICAgICAgICAgIGtleXM6IFs0NiwgNjhdLFxyXG4gICAgICAgICAgICAgICAgZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGxvdFZpZXcucmVtb3ZlUGxvdCgpOyB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJ0Yi1zYXZlLXN2Z1wiLFxyXG4gICAgICAgICAgICAgICAga2V5czogWzgzXSxcclxuICAgICAgICAgICAgICAgIGY6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIF90aGlzLnBsb3RWaWV3LmRvd25sb2FkU1ZHKCk7IH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLXNhdmUtcG5nXCIsXHJcbiAgICAgICAgICAgICAgICBrZXlzOiBbODBdLFxyXG4gICAgICAgICAgICAgICAgZjogZnVuY3Rpb24gKCkgeyByZXR1cm4gX3RoaXMucGxvdFZpZXcuZG93bmxvYWRQTkcoKTsgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaWQ6IFwidGItY29weS1wbmdcIixcclxuICAgICAgICAgICAgICAgIGtleXM6IFs2N10sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbG90Vmlldy5jb3B5UE5HKCk7IH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGlkOiBcInRiLWhpc3RvcnlcIixcclxuICAgICAgICAgICAgICAgIGtleXM6IFs3Ml0sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5wbG90Vmlldy5zaWRlYmFyLnRvZ2dsZSgpOyB9LFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBpZDogXCJ0Yi1leHBvcnRcIixcclxuICAgICAgICAgICAgICAgIGtleXM6IFs2OV0sXHJcbiAgICAgICAgICAgICAgICBmOiBmdW5jdGlvbiAoKSB7IHJldHVybiBfdGhpcy5leHBvcnRWaWV3LnNob3coKTsgfSxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICBdKTtcclxuICAgICAgICAvKlxyXG4gICAgICAgICAgICAgICAgLy8gRm9yY2UgcmVsb2FkIG9uIHZpc2liaWxpdHkgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICAvLyBGaXJlZm94IG90aGVyd2lzZSBzaG93cyBhIGJsYW5rIHNjcmVlbiBvbiB0YWIgY2hhbmdlXHJcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd2aXNpYmlsaXR5Y2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuaGlkZGVuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlSW1hZ2UoJ3YnKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LCBmYWxzZSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uSW5kZXhTdHJpbmdDaGFuZ2U/Lih0aGlzLm5hdmkuaW5kZXhTdHIoKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm9uWm9vbVN0cmluZ0NoYW5nZT8uKHRoaXMuZ2V0Wm9vbVN0cmluZygpKTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbml0aWFsIHVwZGF0ZSBwbG90cycpXHJcbiAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBsb3RzKHRydWUpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0aW9uLmFwaS5nZXRfcmVuZGVyZXJzKCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW5kZXJlcnMgPSByZXMucmVuZGVyZXJzLnNvcnQoKGEsIGIpID0+IHN0cmNtcChhLm5hbWUsIGIubmFtZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXJzLnNvcnQoKGEsIGIpID0+IHN0cmNtcChhLm5hbWUsIGIubmFtZSkpLmZvckVhY2goKHIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG8udmFsdWUgPSByLmlkO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBvLnRleHQgPSByLm5hbWUgKyBcIiAoKlwiKyByLmV4dCArIFwiKVwiO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHBvcnRTZWxlY3QuYWRkKG8pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGV4cG9ydFNlbGVjdC52YWx1ZSA9IFwic3ZnXCJcclxuICAgICAgICAgICAgICAgIH0pOyovXHJcbiAgICB9O1xyXG4gICAgSHR0cGdkVmlld2VyLkNPT0xET1dOX0RFVklDRV9JTkFDVElWRSA9IDEwMDA7XHJcbiAgICByZXR1cm4gSHR0cGdkVmlld2VyO1xyXG59KCkpO1xyXG5leHBvcnQgeyBIdHRwZ2RWaWV3ZXIgfTtcclxuIiwiaW1wb3J0IHsgSHR0cGdkVmlld2VyIH0gZnJvbSBcIi4vdmlld2VyXCI7XHJcbnZhciBzcGFyYW1zID0gbmV3IFVSTCh3aW5kb3cubG9jYXRpb24uaHJlZikuc2VhcmNoUGFyYW1zO1xyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgICB2aWV3ZXI6IG5ldyBIdHRwZ2RWaWV3ZXIoc3BhcmFtcy5nZXQoXCJob3N0XCIpIHx8IHdpbmRvdy5sb2NhdGlvbi5ob3N0LCBzcGFyYW1zLmdldChcInRva2VuXCIpIHx8IHVuZGVmaW5lZCwgc3BhcmFtcy5oYXMoXCJ3c1wiKSA/IChzcGFyYW1zLmdldChcIndzXCIpICE9IFwiMFwiKSA6IHRydWUpXHJcbn07XHJcbiIsImltcG9ydCBcIi4vc3R5bGUvc3R5bGUuc2Nzc1wiO1xyXG4vL2ltcG9ydCB7IEh0dHBnZFZpZXdlciB9IGZyb20gXCIuL2h0dHBnZFZpZXdlclwiO1xyXG5pbXBvcnQgQXBwIGZyb20gXCIuL2FwcFwiO1xyXG4vKmNvbnN0IEFTU0VUX1BMT1RfTk9ORTogc3RyaW5nID0gcmVxdWlyZSgnLi9hc3NldHMvcGxvdC1ub25lLnN2ZycpO1xyXG5cclxuY29uc3Qgc3BhcmFtcyA9IG5ldyBVUkwod2luZG93LmxvY2F0aW9uLmhyZWYpLnNlYXJjaFBhcmFtcztcclxuXHJcbmNvbnN0IGVsZW1fc2lkZWJhciA9IGdldEJ5SWQoXCJzaWRlYmFyXCIpO1xyXG5jb25zdCBlbGVtX3Bsb3R2aWV3ID0gZ2V0QnlJZChcInBsb3R2aWV3XCIpO1xyXG5cclxuaWYgKHNwYXJhbXMuaGFzKFwic2lkZWJhclwiKSAmJiBzcGFyYW1zLmdldChcInNpZGViYXJcIikpIHtcclxuICAgIGVsZW1fc2lkZWJhci5jbGFzc0xpc3QuYWRkKCdub3RyYW5zaXRpb24nLCAnbm9oaXN0Jyk7XHJcbiAgICBlbGVtX3Bsb3R2aWV3LmNsYXNzTGlzdC5hZGQoJ25vdHJhbnNpdGlvbicsICdub2hpc3QnKTtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGVsZW1fc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKCdub3RyYW5zaXRpb24nKTtcclxuICAgICAgICBlbGVtX3Bsb3R2aWV3LmNsYXNzTGlzdC5yZW1vdmUoJ25vdHJhbnNpdGlvbicpO1xyXG4gICAgfSwgMzAwKTtcclxufVxyXG5cclxuaW50ZXJmYWNlIEh0dHBnZEFjdGlvbiB7XHJcbiAgICBpZDogc3RyaW5nLFxyXG4gICAgZnVuOiAoKSA9PiB2b2lkLFxyXG4gICAgYWx0S2V5PzogYm9vbGVhbixcclxuICAgIGtleXM/OiBudW1iZXJbXSxcclxuICAgIG9uY2xpY2tJZD86IHN0cmluZyxcclxufVxyXG4qL1xyXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgQXBwLnZpZXdlci5pbml0KCk7XHJcbiAgICAvKmNvbnN0IGRyb3BFbGVtID0gZ2V0QnlJZChcInRiLW1vcmVcIikucGFyZW50RWxlbWVudCBhcyBIVE1MRWxlbWVudDtcclxuICAgIGRyb3BFbGVtLm9ubW91c2VlbnRlciA9ICgpID0+IHtcclxuICAgICAgICBkcm9wRWxlbS5jbGFzc0xpc3QuYWRkKCdkcm9wLW9wZW4nKTtcclxuICAgIH07XHJcbiAgICBkcm9wRWxlbS5vbm1vdXNlbGVhdmUgPSAoKSA9PiB7XHJcbiAgICAgICAgZHJvcEVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnZHJvcC1vcGVuJyk7XHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gY2xvc2VEcm9wZG93bigpIHtcclxuICAgICAgICBkcm9wRWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcm9wLW9wZW4nKTtcclxuICAgIH07XHJcblxyXG4gICAgQXBwLnZpZXdlci5vblpvb21TdHJpbmdDaGFuZ2UgPSAocykgPT4ge1xyXG4gICAgICAgIGdldEJ5SWQoXCJ0Yi16bHZsXCIpLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlID0gcztcclxuICAgIH1cclxuICAgIEFwcC52aWV3ZXIub25JbmRleFN0cmluZ0NoYW5nZSA9IChzKSA9PiB7XHJcbiAgICAgICAgZ2V0QnlJZChcInRiLXBudW1cIikuY2hpbGROb2Rlc1swXS5ub2RlVmFsdWUgPSBzO1xyXG4gICAgfVxyXG5cclxuXHJcbiAgICBjb25zdCBlbGVtX2ltZyA9IGdldEJ5SWQoXCJkcmF3aW5nXCIpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBjb25zdCBleHBfZm9ybWF0ID0gZ2V0QnlJZChcImllLWZvcm1hdFwiKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgIEFwcC52aWV3ZXIuaW5pdChlbGVtX2ltZywgZ2V0QnlJZChcInNpZGViYXJcIiksIGV4cF9mb3JtYXQpO1xyXG5cclxuXHJcbiAgICBcclxuKi9cclxuICAgIC8qPz8/Pz8/Pz8/P2NvbnN0IG1vZGFsX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIm1vZGFsLWNsb3NlXCIpWzBdIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgbW9kYWxfY2xvc2Uub25jbGljayA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICB9XHJcbiAgICAvLyBXaGVuIHRoZSB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvdXRzaWRlIG9mIHRoZSBtb2RhbCwgY2xvc2UgaXRcclxuICAgIHdpbmRvdy5vbm1vdXNlZG93biA9IGZ1bmN0aW9uIChldmVudDogTW91c2VFdmVudCkge1xyXG4gICAgICAgIGlmIChldmVudC50YXJnZXQgPT0gbW9kYWwpIHtcclxuICAgICAgICAgICAgbW9kYWwuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuICAgIH0qL1xyXG4gICAgLypcclxuICAgICAgICBjb25zdCBleHBfaW1hZ2UgPSBnZXRCeUlkKFwiZXhwLWltYWdlXCIpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XHJcbiAgICBcclxuICAgICAgICBjb25zdCBleHBfd2lkdGggPSBnZXRCeUlkKFwiaWUtd2lkdGhcIikgYXMgSFRNTElucHV0RWxlbWVudDtcclxuICAgICAgICBjb25zdCBleHBfaGVpZ2h0ID0gZ2V0QnlJZChcImllLWhlaWdodFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGV4cF9zY2FsZSA9IGdldEJ5SWQoXCJpZS1zY2FsZVwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGV4cF9idG5fb3BlbiA9IGdldEJ5SWQoXCJpZS1idG4tb3BlblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICBjb25zdCBleHBfYnRuX2Rvd25sb2FkID0gZ2V0QnlJZChcImllLWJ0bi1kb3dubG9hZFwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICBcclxuICAgIFxyXG4gICAgICAgIGV4cF9idG5fZG93bmxvYWQub25jbGljayA9IChldikgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5taW4ocGFyc2VJbnQoZXhwX3dpZHRoLnZhbHVlKSwgMTAwMDApO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gTWF0aC5taW4ocGFyc2VJbnQoZXhwX2hlaWdodC52YWx1ZSksIDEwMDAwKTtcclxuICAgICAgICAgICAgY29uc3QgeiA9IE1hdGgubWF4KHBhcnNlSW50KGV4cF9zY2FsZS52YWx1ZSkgLyAxMDAsIDAuMDEpO1xyXG4gICAgICAgICAgICBjb25zdCByID0gQXBwLnZpZXdlci5yZW5kZXJlcnMuZmluZCgocikgPT4gci5pZCA9PSBleHBfZm9ybWF0LnZhbHVlKTtcclxuICAgICAgICAgICAgY29uc3QgdXJsID0gQXBwLnZpZXdlci5wbG90KEFwcC52aWV3ZXIuaWQoKSwgci5pZCwgdywgaCwgeiwgdW5kZWZpbmVkLCBcInBsb3RfXCIgKyBBcHAudmlld2VyLmlkKCkgKyByLmV4dCkuaHJlZjtcclxuICAgICAgICAgICAgZG93bmxvYWRVUkwodXJsKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIFxyXG4gICAgICAgIGV4cF9idG5fb3Blbi5vbmNsaWNrID0gKGV2KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHcgPSBNYXRoLm1pbihwYXJzZUludChleHBfd2lkdGgudmFsdWUpLCAxMDAwMCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGggPSBNYXRoLm1pbihwYXJzZUludChleHBfaGVpZ2h0LnZhbHVlKSwgMTAwMDApO1xyXG4gICAgICAgICAgICBjb25zdCB6ID0gTWF0aC5tYXgocGFyc2VJbnQoZXhwX3NjYWxlLnZhbHVlKSAvIDEwMCwgMC4wMSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHIgPSBBcHAudmlld2VyLnJlbmRlcmVycy5maW5kKChyKSA9PiByLmlkID09IGV4cF9mb3JtYXQudmFsdWUpO1xyXG4gICAgICAgICAgICBjb25zdCB1cmwgPSBBcHAudmlld2VyLnBsb3QoQXBwLnZpZXdlci5pZCgpLCByLmlkLCB3LCBoLCB6LCB1bmRlZmluZWQpLmhyZWY7XHJcbiAgICAgICAgICAgIHdpbmRvdy5vcGVuKHVybCwgJ19ibGFuaycpO1xyXG4gICAgICAgIH07XHJcbiAgICBcclxuICAgICAgICBmdW5jdGlvbiBleHBfY2hhbmdlKCkge1xyXG4gICAgICAgICAgICBjb25zdCBpZCA9IEFwcC52aWV3ZXIuaWQoKTtcclxuICAgICAgICAgICAgaWYgKCFpZClcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXhwX2ltYWdlLnNyYyA9IEFTU0VUX1BMT1RfTk9ORTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB3ID0gTWF0aC5taW4ocGFyc2VJbnQoZXhwX3dpZHRoLnZhbHVlKSwgMTAwMDApO1xyXG4gICAgICAgICAgICBjb25zdCBoID0gTWF0aC5taW4ocGFyc2VJbnQoZXhwX2hlaWdodC52YWx1ZSksIDEwMDAwKTtcclxuICAgICAgICAgICAgY29uc3QgeiA9IE1hdGgubWF4KHBhcnNlSW50KGV4cF9zY2FsZS52YWx1ZSkgLyAxMDAsIDAuMDEpO1xyXG4gICAgICAgICAgICBleHBfaW1hZ2Uuc3JjID0gQXBwLnZpZXdlci5wbG90KGlkLCBcInN2Z1wiLCB3LCBoLCB6KS5ocmVmO1xyXG4gICAgICAgIH1cclxuICAgICAgICBleHBfY2hhbmdlKCk7XHJcbiAgICBcclxuICAgICAgICBleHBfd2lkdGguYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBleHBfY2hhbmdlKTtcclxuICAgICAgICBleHBfaGVpZ2h0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZXhwX2NoYW5nZSk7XHJcbiAgICAgICAgZXhwX3NjYWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZXhwX2NoYW5nZSk7XHJcbiAgICBcclxuICAgICAgICBcclxuICAgICovXHJcbiAgICAvLyBCdWlsZCBrZXlib2FyZCBzaG9ydGN1dCBkaWN0aW9uYXJ5XHJcbiAgICAvKj8/Pz9jb25zdCBzaG9ydGN1dHM6IHsgW2lkOiBudW1iZXJdOiBIdHRwZ2RBY3Rpb24gfCB1bmRlZmluZWQgfSA9IHt9O1xyXG4gICAgZm9yIChjb25zdCBhIG9mIGFjdGlvbnMpIHtcclxuICAgICAgICBpZiAoYS5vbmNsaWNrSWQpIHtcclxuICAgICAgICAgICAgZ2V0QnlJZChhLm9uY2xpY2tJZCkub25jbGljayA9IGEuZnVuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoYS5rZXlzKSB7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBhLmtleXMpIHtcclxuICAgICAgICAgICAgICAgIHNob3J0Y3V0c1trXSA9IGE7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9Ki9cclxuICAgIC8qPz8/P2NvbnN0IG1vZGFsID0gZ2V0QnlJZChcImV4cC1tb2RhbFwiKTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICBpZiAobW9kYWwuc3R5bGUuZGlzcGxheSAmJlxyXG4gICAgICAgICAgICBtb2RhbC5zdHlsZS5kaXNwbGF5ICE9PSBcIm5vbmVcIikgcmV0dXJuO1xyXG4gICAgICAgIGNvbnN0IGEgPSBzaG9ydGN1dHNbZS5rZXlDb2RlXTtcclxuICAgICAgICBpZiAoYSAmJiAoIWEuYWx0S2V5IHx8IGUuYWx0S2V5KSkge1xyXG4gICAgICAgICAgICBhLmZ1bigpO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTsqL1xyXG4gICAgLypcclxuICAgICAgICBjb25zdCBlbGVtX3RidCA9IGdldEJ5SWQoXCJ0b29sYmFyXCIpO1xyXG4gICAgICAgIGNvbnN0IGVsZW1fY250ID0gZ2V0QnlJZChcImNvbnRhaW5lclwiKTtcclxuICAgICAgICBjb25zdCBUQl9GQURFX1RJTUVPVVQgPSA0MDAwO1xyXG4gICAgXHJcbiAgICAgICAgdmFyIGh0dHBnZF90Yl9mYWRlID0gc2V0VGltZW91dCgoKSA9PiBlbGVtX3RidC5jbGFzc0xpc3QuYWRkKFwiZmFkZS1vdXRcIiksIFRCX0ZBREVfVElNRU9VVCk7XHJcbiAgICAgICAgZWxlbV9jbnQub25tb3VzZW1vdmUgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGVsZW1fdGJ0LmNsYXNzTGlzdC5yZW1vdmUoXCJmYWRlLW91dFwiKTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGh0dHBnZF90Yl9mYWRlKTtcclxuICAgICAgICAgICAgaHR0cGdkX3RiX2ZhZGUgPSBzZXRUaW1lb3V0KCgpID0+IGVsZW1fdGJ0LmNsYXNzTGlzdC5hZGQoXCJmYWRlLW91dFwiKSwgVEJfRkFERV9USU1FT1VUKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbV9jbnQub25tb3VzZWxlYXZlID0gZnVuY3Rpb24gKG1vdXNlRXZlbnQpIHtcclxuICAgICAgICAgICAgZWxlbV90YnQuY2xhc3NMaXN0LmFkZChcImZhZGUtb3V0XCIpO1xyXG4gICAgICAgIH1cclxuICAgICovXHJcbn07XHJcbiJdLCJzb3VyY2VSb290IjoiIn0=